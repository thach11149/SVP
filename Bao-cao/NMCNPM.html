<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NMCNPM</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        h1 {
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        blockquote {
            border-left: 4px solid #3498db;
            margin: 0;
            padding-left: 20px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <em>Tab 1</em>

<table>
<tr><th><strong>ĐẠI HỌC QUỐC GIA THÀNH PHỐ HỒ CHÍ MINH</strong>  <strong>TRƯỜNG ĐẠI HỌC CÔNG NGHỆ THÔNG TIN</strong>  <strong>KHOA KHOA HỌC MÁY TÍNH</strong>    <strong>BÁO CÁO ĐỒ ÁN CUỐI KỲ</strong>  <strong>MÔN NHẬP MÔN CÔNG NGHỆ PHẦN MỀM</strong>  <strong>Đề tài: Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng</strong>  <strong>GVHD: ThS. Đỗ Minh Tiến</strong>  <strong>Nhóm sinh viên thực hiện:</strong>   1. Trần Thanh Nam - 25210023 2. Nguyễn Minh Nhựt - 25210028 3. Nguyễn Ngọc Thạch - 25210035 4. Đặng Thị Phương Thảo - 25210037   <strong>Tp. Hồ Chí Minh, 08/2025</strong></th></tr>
</table>

<strong>NHẬN XÉT CỦA GIÁO VIÊN HƯỚNG DẪN</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<strong>………………………………………………………………………………………</strong>

<em>TP. Hồ Chí Minh, ngày………tháng………năm 2025</em>

<strong>Người nhận xét</strong>

<strong>BẢNG PHÂN CÔNG, ĐÁNH GIÁ THÀNH VIÊN</strong>

<table>
<tr><th><strong>Họ và tên</strong></th><th><strong>MSSV</strong></th><th><strong>Phân công</strong></th><th><strong>Đánh giá</strong></th></tr>
<tr><td>Trần Thanh Nam</td><td>25210023</td><td>- Báo cáo tổng hợp:  Chương 1: Giới thiệu chung  Chương 2: Khảo sát hiện trạng  Chương 3: Vẽ Squence Diagram cho tất cả các chức năng., Vẽ sơ đồ luồng xử lý dữ liệu.  Chương 4: Mô tả các thành phần giao diện, thiết kế giao diện đăng nhập  Chương 6: Đánh giá và kết luận  - Code:  HTML, CSS Màn hình phiếu thu tiền phạt.</td><td><strong>100%</strong></td></tr>
<tr><td>Nguyễn Minh Nhựt</td><td>25210028</td><td>- Báo cáo tổng hợp:  Xem xét toàn bộ định dạng tài liệu yêu cầu. Phụ tổng hợp báo cáo.  Chương 3: Thiết kế kiến trúc hệ thống Chương 4: Mô tả các thành phần giao diện. - Code:  HTML, CSS màn hình thêm, xóa, quản lý độc giả, danh sách thể loại cài đặt.</td><td><strong>100%</strong></td></tr>
<tr><td>Nguyễn Ngọc Thạch</td><td>25210035</td><td>- Nhóm trưởng  - Báo cáo:  Chương 1: Kế hoạch thực hiện đồ án.  Chương 4: Thiết kế sơ đồ lớp, cơ sở dữ liệu, làm database SQL Server  Chương 5: Hiện thực & Demo  - Code chính:  Xử lý ReactJS tất cả các trang đã CSS. Làm database SQL Server.  Code BackEnd bằng NodeJS cho chức năng thêm người dùng, xóa người dùng</td><td><strong>100%</strong></td></tr>
<tr><td>Đặng Thị Phương Thảo</td><td>25210037</td><td>- Báo cáo:  Chương 3: Vẽ sơ đồ luồng cho chức năng xóa, sửa của cho mượn sách, nhận trả sách, lập phiếu thu tiền phạt.  Chương 4: Phụ thiết kế giao diện một số biểu mẫu.  Làm powerpoint thuyết trình  - Code:  HTML, CSS màn hình đăng nhập, đăng ký, quản lý mượn sách.</td><td><strong>100%</strong></td></tr>
</table>

<strong>LỜI MỞ ĐẦU</strong>

<p>Trong khuôn khổ đồ án môn học Nhập môn Công nghệ phần mềm, sau quá trình tìm hiểu thực tế và thảo luận, nhóm chúng em đã đi đến thống nhất lựa chọn và thực hiện đề tài: “Xây dựng phần mềm Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng”.</p>

<p>Lý do chính để nhóm đưa ra lựa chọn này là vì tính ứng dụng thực tiễn cao của đề tài. Quản lý nhân sự, điều phối công việc và giám sát vật tư trong ngành dịch vụ kiểm soát côn trùng là một bài toán thực tế mà nhiều doanh nghiệp đang cần lời giải hiệu quả bằng công nghệ. Đồng thời, việc giải quyết một vấn đề cụ thể như vậy là cơ hội tốt nhất để chúng em áp dụng những kiến thức lý thuyết đã được học vào thực hành. Quá trình từ phân tích yêu cầu, thiết kế hệ thống cho đến triển khai phần mềm sẽ giúp chúng em hiểu sâu sắc hơn về quy trình phát triển một sản phẩm công nghệ và củng cố vững chắc các kỹ năng chuyên môn.</p>

<p>Với vai trò là những sinh viên lần đầu tiếp cận một dự án hoàn chỉnh, cùng với kinh nghiệm và thời gian còn hạn chế, sản phẩm của chúng em khó tránh khỏi những sai sót. Nhóm rất mong sẽ nhận được những ý kiến đóng góp quý báu từ thầy và các bạn để đề tài ngày càng hoàn thiện hơn.</p>

<p>Chúng em xin gửi lời cảm ơn chân thành và sâu sắc nhất đến thầy <strong>ThS. Đỗ Minh Tiến</strong>. Cảm ơn thầy đã tận tình giảng dạy, truyền đạt kiến thức và trực tiếp hướng dẫn để chúng em có thể định hướng và hoàn thành đồ án này một cách tốt nhất.</p>

<p>Trân trọng,</p>

<strong><em>Nhóm sinh viên thực hiện:</strong></em>

<p>1. <em>Trần Thanh Nam - 25210023</em>
2. <em>Nguyễn Minh Nhựt - 25210028</em>
3. <em>Nguyễn Ngọc Thạch - 25210035</em>
4. <em>Đặng Thị Phương Thảo - 25210037</em></p>

<strong>DANH MỤC CÁC BẢNG</strong>

<strong>DANH MỤC HÌNH ẢNH</strong>

<a href="#_on97qcuyx5q7">Hình 1.1: Mô hình thác nước cải tiến 13</a>

<p>MỤC LỤC
=======</p>

<a href="#_xgc6mop2lh0n"><strong>MỤC LỤC 8</strong></a>

<a href="#_qsf5qdpdyhpw"><strong>1. CHƯƠNG 1: GIỚI THIỆU CHUNG 12</strong></a>

<a href="#_ay82gqvczqd9">1.1. Mục đích đề tài 12</a>

<a href="#_s5pcq4k22pa4">1.2. Phạm vi đề tài 13</a>

<a href="#_i42nrk4bmr4h">1.3. Mô tả đồ án 13</a>

<a href="#_gfrocmrtd9yx">1.4. Kế hoạch thực hiện đồ án 14</a>

<a href="#_3fyoaxdv2tzc">1.4.1. Mô hình phát triển phần mềm 14</a>

<a href="#_on97qcuyx5q7">Hình 1.1: Mô hình thác nước cải tiến 14</a>

<a href="#_ozjx65ms0u4v">1.4.2. Công cụ quản lý và thực hiện 14</a>

<a href="#_26w47lrpz5om">1.4.3. Kế hoạch thực hiện chi tiết 15</a>

<a href="#_xs4y7xdxb1zz"><strong>2. CHƯƠNG 2: KHẢO SÁT HIỆN TRẠNG 20</strong></a>

<a href="#_kvsoydkksvcv">2.1. Kế hoạch khảo sát 20</a>

<a href="#_im9wwn20r86u">2.2. Hiện trạng tổ chức 20</a>

<a href="#_vw4oslul35w4">2.2.1. Sơ đồ cơ cấu tổ chức 20</a>

<a href="#_nx9w6o6nedpu">2.2.2. Chức năng của các vai trò trong cơ cấu tổ chức 21</a>

<a href="#_o4v8z6y536rk">2.2.3. Hiện trạng tin học 21</a>

<a href="#_pz851oahmodl">2.2.4. Hiện trạng nghiệp vụ 22</a>

<a href="#_l8vrr8yck9tm">2.2.4.1. Nghiệp vụ tin học hóa 22</a>

<a href="#_sf335fiq2xz5">2.2.4.2. Nghiệp vụ không tin học hóa 22</a>

<a href="#_21eoprbnbcmw">2.2.4.3. Các nghiệp vụ của công ty 22</a>

<a href="#_c1lk5xrxarqg">2.3. Danh sách các yêu cầu phần mềm 23</a>

<a href="#_grxuvmgat022">2.3.1. Yêu cầu chức năng 24</a>

<a href="#_mfjnrt8zrs92">2.3.2. Yêu cầu phi chức năng 24</a>

<a href="#_tej78almp70q">2.4. Mô tả tổng thể 25</a>

<a href="#_46ms1td1sjt9">2.5. Chức năng hệ thống 25</a>

<a href="#_epvrxgqlt635">2.5.1. Phân hệ Quản lý Vận hành (trên Web App) 25</a>

<a href="#_f8rbu4z6tdp">2.5.2. Phân hệ Tác nghiệp KTV (trên Web App) 26</a>

<a href="#_avwkqabuuxz1">2.5.3. Phân hệ Quản trị và Báo cáo (trên Web App) 26</a>

<a href="#_nh29hzf05rjq">2.6. Ràng buộc, giả định và phụ thuộc 26</a>

<a href="#_p2meuf7mm731">2.6.1. Ràng buộc 26</a>

<a href="#_ub9kljeh5vpj">2.6.2. Giả định 27</a>

<a href="#_1qnacic8sjie">2.6.3. Phụ thuộc 27</a>

<a href="#_j8bjm5736zjj">2.7. Sơ đồ luồng dữ liệu (DFD) 27</a>

<a href="#_rgy6kepa3ggv">2.7.1. DFD cho Leader giao việc 27</a>

<a href="#_mmmqokme34xp">2.7.2. DFD cho KTV Xác nhận và cập nhật báo cáo công việc 28</a>

<a href="#_bvf6x3919nm6">2.7.3. DFD cho chức năng "Quản lý Kho" 30</a>

<a href="#_s0w4wl8sojuh">2.7.4. DFD cho chức năng "Quản lý Công tác phí" 30</a>

<a href="#_8jp5ja2mkkgo">2.7.5. DFD cho chức năng "Báo cáo và Thống kê" 31</a>

<a href="#_ufj7vkiuh7mo"><strong>3. CHƯƠNG 3: THIẾT KẾ PHẦN MỀM 33</strong></a>

<a href="#_6fea557icbk6">3.1. Lựa chọn công nghệ 33</a>

<a href="#_kj0liv2wd4oo">3.1.1. NODE.JS & REACT.JS 33</a>

<a href="#_bueobxz77k9l">3.1.1.1. Tính tiện dụng và tính tái sử dụng 33</a>

<a href="#_s4nppabz90hk">3.1.1.2. Tính tiến hóa và tính dễ bảo trì 33</a>

<a href="#_wfjp1vpkijno">3.1.1.3. Tính tương thích và tính dễ kiểm tra 34</a>

<a href="#_cns9k7lebxbt">3.1.1.4. Tính hiệu quả 34</a>

<a href="#_hqc48cj5seqe">3.1.1.5. Tính phổ biến và cơ hội nghề nghiệp 35</a>

<a href="#_8xiy5f6fg8ab">3.1.2. Cơ sở dữ liệu 35</a>

<a href="#_kk18qtvib1aw">3.1.2.1. Bối cảnh và vấn đề gặp phải 35</a>

<a href="#_4smgjs1tiewr">3.1.2.2. Đánh giá Supabase và lý do lựa chọn 36</a>

<a href="#_ngtkuzl4r21d">3.1.2.3. Giải pháp cho vấn đề làm việc nhóm online và đồng bộ dữ liệu 36</a>

<a href="#_18xaku1d91yy">3.1.2.4. Tăng tốc độ phát triển và giảm tải công việc 37</a>

<a href="#_aj82eps68k1p">3.1.2.5. Các ưu điểm kỹ thuật vượt trội khác 37</a>

<a href="#_2qugc8gomoik">3.2. Thiết kế kiến trúc 38</a>

<a href="#_9hk6nexwbhpf">3.2.1. Lớp Trình diễn (Presentation Layer) 38</a>

<a href="#_f6wcgs05z8r">3.2.2. Lớp Ứng dụng (Application/Business Layer) 39</a>

<a href="#_633wszw1tmqi">3.2.3. Lớp Dữ liệu (Data Layer) 39</a>

<a href="#_m220j7e3sxcp">3.3. Mô tả Sơ đồ chức năng (Use-Case Tổng quát) 40</a>

<a href="#_tczmc2ar1ydc">3.3.1. Sơ đồ Use-Case Tổng quát 40</a>

<a href="#_xagadomkah3n">3.3.2. Bảng mô tả Actors (Tác nhân) 40</a>

<a href="#_3x5ric57527o">3.3.3. Bảng mô tả Use-Cases 41</a>

<a href="#_yzdjtlnn0pep">3.4. Yêu cầu chức năng chi tiết 43</a>

<a href="#_lmhqpignwbsl">3.4.1. Phân hệ Quản lý Vận hành (Dành cho Leader, CSKH) 43</a>

<a href="#_s7n1rbelobs2">3.4.1.1. Chức năng: Quản lý Khách hàng 43</a>

<a href="#_6oib6keybrz8">3.4.1.2. Chức năng: Lập kế hoạch và Phân công công việc 45</a>

<a href="#_11ae97vo4htb">3.4.2. Phân hệ Tác nghiệp Kỹ thuật viên (Web App cho KTV) 48</a>

<a href="#_gbtym9ilsnd9">3.4.2.1. Chức năng: Nhận và Thực hiện Công việc 48</a>

<a href="#_bxzt342c2vb2">3.4.3. Phân hệ Quản trị và Báo cáo (Dành cho Admin, Leader) 52</a>

<a href="#_18yhl18n61ui">3.4.3.1. Chức năng: Quản lý Kho Vật tư 52</a>

<a href="#_my5picjrjffx">3.5. Yêu cầu Phi chức năng 58</a>

<a href="#_95kedbhadx0f">3.5.1. Tính tiện dụng (Usability) 58</a>

<a href="#_szrt9cdjey9r">3.5.2. Tính hiệu quả (Performance/Efficiency) 59</a>

<a href="#_9pg4u2k3hkqm">3.5.3. Tính tương thích (Compatibility) 59</a>

<a href="#_yoh9oko7f03p">3.5.4. Tính bảo mật (Security) 60</a>

<a href="#_xz3wlw386b1b">3.5.5. Độ tin cậy 60</a>

<a href="#_s9xbfp7md1qe"><strong>4. CHƯƠNG 4: THIẾT KẾ DỮ LIỆU 62</strong></a>

<a href="#_fagrjudurmk3">4.1. Giới thiệu 62</a>

<a href="#_2yt2czuo6ht9">4.2. Thuật toán Thiết kế Dữ liệu 63</a>

<a href="#_vpqz95lg9liy">4.2.1. Xét Yêu cầu 1: Quản lý Khách hàng & Lên kế hoạch công việc 63</a>

<a href="#_17q4bd65nyqa">4.2.2. Xét Yêu cầu 2: KTV Thực hiện Công việc tại Hiện trường 65</a>

<a href="#_36srmvli72st">4.2.3. Xét Yêu cầu 3: Quản lý Kho và Công tác phí 67</a>

<a href="#_qt7zixs29788">4.3. Sơ đồ Logic Hoàn chỉnh 69</a>

<a href="#_jzyonijqv8gj">4.4. Chi tiết các Bảng Dữ liệu (Mô tả Table) 70</a>

<a href="#_vhk7y3xomp8j">4.4.1. Bảng: NHANVIEN 70</a>

<a href="#_6c6hr9oafbrl">4.4.2. Bảng: KHACHHANG 71</a>

<a href="#_tmxxszz6ly2a">4.4.3. Bảng: CONGVIEC 72</a>

<a href="#_zcox7hrcwexc">4.4.4. Bảng: BAOCAOCONGVIEC 72</a>

<a href="#_vsnwcg10751k">4.4.5. Bảng: HINHANH\_BAOCAO 73</a>

<a href="#_60v2yjnkgyi1">4.4.6. Bảng: VATTU 74</a>

<a href="#_cufgmwc75hzt">4.4.7. Bảng: KHO\_KTV 74</a>

<a href="#_62jzy6ja5frp">4.4.8. Bảng: VATTU\_SUDUNG 75</a>

<a href="#_8e0c7uks694n">4.4.9. Bảng: CONGTACPHI 75</a>

<a href="#_8uskefj1tjbs">4.4.10. Bảng: THAMSO 76</a>

<a href="#_bi8rnyexhx">4.5. Chuẩn hóa Dữ liệu 77</a>

<a href="#_awu102vnba1r">4.5.1. Dạng chuẩn áp dụng 77</a>

<a href="#_obp49d26jjbc">4.5.2. Giải thích và Chứng minh 77</a>

<a href="#_yy543t5tiveu"><strong>5. CHƯƠNG 5: THIẾT KẾ GIAO DIỆN 79</strong></a>

<a href="#_2uttblffqpzx">5.1. Sơ đồ liên kết các màn hình 79</a>

<a href="#_bdz2m55dh7ak">5.1.1. Sơ đồ liên kết cho Phần mềm Quản lý (Web App cho Quản lý, Admin, CSKH) 79</a>

<a href="#_3hvctlqs3e8s">5.1.2. Sơ đồ liên kết cho Ứng dụng Nhân viên Kỹ thuật (Web App cho KTV) 80</a>

<a href="#_dpclk2exx82t">5.2. Danh sách các màn hình 80</a>

<a href="#_hlxcmlvbmb1i">5.3. Mô tả chi tiết từng màn hình 82</a>

<a href="#_mjb82g7rmf0">5.3.1. Màn hình Lập kế hoạch và Phân công (Phần mềm Quản lý) 83</a>

<a href="#_swfmy7ws9j1y">5.3.2. Màn hình Báo cáo Công tác Hiện trường (Ứng dụng KTV) 85</a>

<a href="#_y0zb94ptplgi"><strong>6. CHƯƠNG 6: CÀI ĐẶT PHẦN MỀM 88</strong></a>

<a href="#_4r69il86p6fc">6.1. Môi trường cài đặt và Công nghệ sử dụng 88</a>

<a href="#_pskfojrn0mdq">6.1.1. Môi trường Phần cứng 88</a>

<a href="#_e2ame1vvks9f">6.1.2. Môi trường Phần mềm 88</a>

<a href="#_h6380rvziyfs">6.1.3. Công nghệ sử dụng 89</a>

<a href="#_qb5ikkcjdiw8">6.2. Phương pháp cài đặt 90</a>

<a href="#_vvn0zwacq2xh">6.3. Phong cách lập trình (Chuẩn viết mã) 91</a>

<a href="#_l9sc2bdmg9ec">6.3.1. Quy tắc đặt tên (Naming Conventions) 91</a>

<a href="#_6sfh1umuzf6">6.3.2. Quy tắc trình bày code 91</a>

<a href="#_y5leckh099mw">6.4. Tổ chức mã nguồn 92</a>

<a href="#_ep3e44qlngru">6.5. Cài đặt và thử nghiệm 92</a>

<a href="#_qljknzond80n">6.6. Minh họa giao diện 92</a>

<a href="#_lko3ug5l9o5j"><strong>7. CHƯƠNG 7: KIỂM THỬ VÀ BẢO TRÌ 94</strong></a>

<a href="#_k5ww21gy6v0">7.1. Mục tiêu và Kế hoạch kiểm thử 94</a>

<a href="#_h2sh40t7nn3a">7.1.1. Mục tiêu kiểm thử 94</a>

<a href="#_wnlzjb6gy9n9">7.1.2. Chiến lược kiểm thử 95</a>

<a href="#_nfg4bfnnkml2">7.2. Các cấp độ kiểm thử 95</a>

<a href="#_oj7nfr68oc1d">7.2.1. Kiểm thử đơn vị (Unit Testing) 95</a>

<a href="#_xowo699amta5">7.2.2. Kiểm thử tích hợp (Integration Testing) 97</a>

<a href="#_3um708hvnkd9">7.2.3. Kiểm thử hệ thống (System Testing) 98</a>

<a href="#_iparxqfegx2o">7.3. Bảo trì phần mềm 99</a>

<a href="#_jrh7sivgqpua">7.3.1. Các loại hình bảo trì 99</a>

<a href="#_ncull0u1io91">7.3.2. Kế hoạch bảo trì và phát triển trong tương lai 100</a>

<a href="#_nkn5k7wzypvr"><strong>8. CHƯƠNG 8: ĐÁNH GIÁ VÀ KẾT LUẬN 101</strong></a>

<a href="#_h8utppbiyu7m">8.1. Nhận xét và Đánh giá 101</a>

<a href="#_ddcivuu2dnid">8.1.1. Quá trình làm việc và Hợp tác nhóm 101</a>

<a href="#_9qain6tzxev7">8.1.2. Kết quả đạt được 101</a>

<a href="#_5enww916wnqr">8.1.3. Ưu điểm của hệ thống 102</a>

<a href="#_cx3dd4i547aw">8.1.4. Hạn chế còn tồn tại 103</a>

<a href="#_wbwm1tpivjl">8.2. Hướng phát triển 103</a>

<a href="#_8rk6tzduzgeu">TÀI LIỆU THAM KHẢO 105</a>

<p>CHƯƠNG 1: GIỚI THIỆU CHUNG
==========================</p>

<p>Mục đích đề tài
---------------</p>

<p>Trong bối cảnh cạnh tranh của ngành dịch vụ hiện nay, việc tối ưu hóa quy trình vận hành là yếu tố sống còn đối với các doanh nghiệp. Đối với các công ty cung cấp dịch vụ kiểm soát côn trùng, công tác quản lý và điều phối nhân viên kỹ thuật (KTV) tại hiện trường là một bài toán phức tạp. Hiện tại, nhiều doanh nghiệp vẫn đang quản lý công việc này một cách thủ công qua các công cụ rời rạc như Zalo, Google Sheets, và các biểu mẫu giấy. Quy trình này bộc lộ nhiều bất cập như:</p>

<p>* Khó khăn trong việc theo dõi tiến độ công việc theo thời gian thực
* Dữ liệu dễ thất lạc và không nhất quán
* Tốn nhiều thời gian tổng hợp báo cáo
* Việc tính toán công tác phí, quãng đường di chuyển thiếu chính xác…</p>

<p>Hiểu được tầm quan trọng của việc số hóa quy trình này, nhóm chúng em thực hiện đề tài này với mục đích ghi nhận lại toàn bộ quá trình khảo sát, phân tích, thiết kế và xây dựng <strong>Hệ thống phần mềm Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng</strong>. Hệ thống được phát triển nhằm mục tiêu trung tâm hóa dữ liệu, tự động hóa các quy trình nghiệp vụ từ khâu lập kế hoạch, giao việc cho đến báo cáo tại hiện trường, quản lý kho vật tư và đánh giá hiệu suất nhân viên.</p>

<p>Tài liệu này sẽ là kim chỉ nam cho:</p>

<p>* <strong>Nhóm sinh viên thực hiện đề tài:</strong> Để hiểu rõ các chức năng, yêu cầu và đặc tính của hệ thống, làm cơ sở cho quá trình thiết kế, cài đặt và kiểm thử là những phần quan trọng trong thiết kế phần mềm.
* <strong>Giảng viên hướng dẫn:</strong> Để theo dõi, đánh giá kết quả của quá trình thực hiện đồ án và khả năng tiếp thu kiến thức của sinh viên.
* <strong>Người dùng cuối (khách hàng):</strong> Có thể sử dụng để nâng cao tính hệ thống của các công việc trong công ty, giảm thiểu thời gian xử lý tác vụ thủ công.</p>

<p>Phạm vi đề tài
--------------</p>

<p>Phần mềm được xây dựng với mục đích phục vụ các công ty cung cấp dịch vụ kiểm soát côn trùng có quy mô vừa và nhỏ, nơi có nhu cầu cấp thiết về việc tối ưu hóa và số hóa quy trình vận hành đội ngũ kỹ thuật viên hiện trường.</p>

<p>Trong thời gian có hạn nên nhóm chỉ thực hiện một số tính năng cơ bản cho phần mềm để thông qua đó thể hiện được mức độ tiếp thu kiến thức và ứng dụng vào thực tế của nhóm sau khi học môn “Nhập môn công nghệ phần mềm”.</p>

<p>Mô tả đồ án
-----------</p>

<p>Báo cáo đồ án bao gồm các chương chính sau:</p>

<p>* <strong>Chương 1: Giới thiệu chung:</strong> Giới thiệu tổng quan về mục đích, phạm vi, kế hoạch và các khái niệm được sử dụng trong tài liệu.
* <strong>Chương 2: Khảo sát hiện trạng:</strong> Trình bày kết quả khảo sát về hiện trạng tổ chức, nghiệp vụ, tin học và từ đó rút ra danh sách các yêu cầu của hệ thống cần xây dựng.
* <strong>Chương 3: Phân tích và Đặc tả Yêu cầu:</strong> Đặc tả chi tiết các yêu cầu chức năng và phi chức năng của hệ thống thông qua các sơ đồ Use-Case, sơ đồ Tuần tự và sơ đồ Luồng dữ liệu.
* <strong>Chương 4: Thiết kế Dữ liệu:</strong> Trình bày quá trình thiết kế cơ sở dữ liệu, bao gồm sơ đồ logic hoàn chỉnh và mô tả chi tiết các bảng dữ liệu.
* <strong>Chương 5: Thiết kế Giao diện:</strong> Mô tả chi tiết kiến trúc, sơ đồ liên kết và thiết kế của các màn hình giao diện chính trong hệ thống.
* <strong>Chương 6: Hiện thực:</strong> Mô tả môi trường cài đặt, các công nghệ sử dụng, phong cách lập trình và một số kết quả cài đặt các chức năng chính.
* <strong>Chương 7: Kiểm thử và Bảo trì:</strong> Trình bày kế hoạch, chiến lược và các ca kiểm thử đã thực hiện để đảm bảo chất lượng phần mềm, đồng thời đề ra kế hoạch bảo trì.
* <strong>Chương 8: Đánh giá và Kết luận:</strong> Tổng kết các kết quả đạt được, nêu ra các ưu điểm, hạn chế và định hướng phát triển cho hệ thống trong tương lai.</p>

<p>Kế hoạch thực hiện đồ án
------------------------</p>

<h3>Mô hình phát triển phần mềm</h3>

<p>Để đảm bảo đồ án được thực hiện một cách có hệ thống và chuyên nghiệp, nhóm chúng em đã áp dụng <strong>Mô hình Thác nước Cải tiến</strong>.</p>

<p>###### Hình 1.1: Mô hình thác nước cải tiến</p>

<strong>Giải thích mô hình:</strong> Mô hình này cho phép nhóm thực hiện các giai đoạn một cách tuần tự, từ Khảo sát, Xác định yêu cầu, Phân tích, Thiết kế, Cài đặt, Kiểm thử cho đến Triển khai. Ưu điểm chính của việc áp dụng mô hình cải tiến là cho phép quay lại các bước trước đó để hoàn thiện hoặc sửa lỗi, giúp dễ dàng nắm bắt thông tin và giải quyết vấn đề của mô hình thác nước truyền thống.

<h3>Công cụ quản lý và thực hiện</h3>

<p>* <strong>Trao đổi thông tin:</strong>
  + <strong>Zalo/Messenger:</strong> Trao đổi nhanh, thông báo các công việc.
  + <strong>Google Meet:</strong> Họp trực tuyến để thảo luận và trình bày tiến độ.
* <strong>Lưu trữ tài liệu:</strong>
  + <strong>Google Drive:</strong> Lưu trữ tập trung tất cả tài liệu, báo cáo và tài nguyên của đồ án.
* <strong>Quản lý tiến độ công việc:</strong>
  + <strong>Excel:</strong> Lập kế hoạch, phân công và theo dõi tiến độ của từng tác vụ.
* <strong>Thiết kế:</strong>
  + <strong>Draw.io:</strong> Công cụ chính để vẽ các loại sơ đồ (Use-Case, DFD, Sequence Diagram...).
  + <strong>Figma:</strong> Thiết kế giao diện (UI) chi tiết cho các màn hình.
* <strong>Quản lý mã nguồn và phát triển:</strong>
  + <strong>Git & GitHub:</strong> Quản lý phiên bản và hợp tác phát triển mã nguồn.
  + <strong>Visual Studio Code:</strong> Môi trường phát triển tích hợp (IDE) chính.
  + <strong>Supabase (PostgreSQL):</strong> Nền tảng cơ sở dữ liệu đám mây.</p>

<h3>Kế hoạch thực hiện chi tiết</h3>

<p>Để đảm bảo tiến độ và chất lượng của đồ án trong một khung thời gian giới hạn là 8 tuần, nhóm chúng em đã xây dựng một kế hoạch chi tiết, trong đó nhiều công việc sẽ được thực hiện song song. Bảng dưới đây mô tả các công việc chính và sản phẩm đầu ra của từng tuần.</p>

<table>
<tr><th><strong>Tuần</strong></th><th><strong>Công việc chính</strong></th><th><strong>Chi tiết công việc</strong></th><th><strong>Sản phẩm đầu ra</strong></th></tr>
<tr><td><strong>Tuần 1</strong></td><td><strong>Khởi động & Lập kế hoạch</strong></td><td>- Họp nhóm, thống nhất lại mục tiêu, phạm vi của đồ án.  - Hoàn thành việc khảo sát hiện trạng chi tiết.  - Phân công vai trò, trách nhiệm cho từng thành viên.  - Lập kế hoạch chi tiết cho toàn bộ 8 tuần.</td><td>- Hoàn thiện <strong>Chương 2: Khảo sát hiện trạng</strong>.  - Bảng kế hoạch chi tiết.</td></tr>
<tr><td><strong>Tuần 2</strong></td><td><strong>Phân tích Yêu cầu & Thiết kế Sơ bộ</strong></td><td>- Dựa trên kết quả khảo sát, tiến hành phân tích và đặc tả yêu cầu.  - Vẽ các sơ đồ Use-Case và Sơ đồ Luồng Dữ liệu (DFD) cho các chức năng chính.  - Bắt đầu thiết kế sơ bộ cấu trúc cơ sở dữ liệu.</td><td>- Hoàn thiện <strong>Chương 3: Phân tích và Đặc tả Yêu cầu</strong>.  - Bản phác thảo đầu tiên của Sơ đồ Logic CSDL.</td></tr>
<tr><td><strong>Tuần 3</strong></td><td><strong>Hoàn thiện Thiết kế</strong></td><td>- Hoàn thiện Sơ đồ Logic CSDL, mô tả chi tiết các bảng và thực hiện chuẩn hóa. - Thiết kế giao diện (UI/UX) chi tiết cho tất cả các màn hình chính trên Figma.  - Backend: Dựa trên Sơ đồ Logic, tiến hành cài đặt CSDL trên Supabase và thiết lập cấu trúc dự án Node.js.</td><td>- Hoàn thiện <strong>Chương 4: Thiết kế Dữ liệu.</strong>  - Hoàn thiện <strong>Chương 5: Thiết kế Giao diện.</strong>  - CSDL đã được khởi tạo trên Supabase.</td></tr>
<tr><td><strong>Tuần 4</strong></td><td><strong>Cài đặt Backend</strong></td><td>- Backend: Tập trung xây dựng các API cốt lõi (Quản lý Người dùng, Khách hàng, Công việc).  - Viết các Stored Procedure hoặc Function trên Supabase nếu cần.  - Frontend: Bắt đầu xây dựng các component giao diện tĩnh (không có logic) dựa trên thiết kế Figma.</td><td>- Các API chính đã sẵn sàng để kiểm thử.  - Các component giao diện cơ bản (layout, form, button...).  - Bắt đầu viết <strong>Chương 6: Hiện thực.</strong></td></tr>
<tr><td><strong>Tuần 5</strong></td><td><strong>Cài đặt Frontend & Tích hợp ban đầu</strong></td><td>- Frontend: Tích hợp các API đã có vào giao diện (ví dụ: màn hình Đăng nhập, hiển thị danh sách công việc).  - Xây dựng logic xử lý cho các chức năng phía client.  - Backend: Hoàn thiện các API còn lại và bắt đầu viết Unit Test cho các logic phức tạp.</td><td>- Các chức năng cốt lõi có thể hoạt động (Đăng nhập, xem danh sách...).  - Mã nguồn Frontend và Backend được cập nhật trên GitHub.</td></tr>
<tr><td><strong>Tuần 6</strong></td><td><strong>Hoàn thiện Tích hợp & Kiểm thử</strong></td><td>- Tích hợp toàn bộ các chức năng còn lại.  - Thực hiện kiểm thử tích hợp và kiểm thử hệ thống theo các kịch bản đã định.  - Ghi nhận và phân loại lỗi (bug) phát sinh.  - Bắt đầu viết báo cáo cho phần kiểm thử.</td><td>- Phiên bản Alpha của phần mềm, gần như đầy đủ chức năng.  - Bắt đầu viết <strong>Chương 7: Kiểm thử và Bảo trì.</strong></td></tr>
<tr><td><strong>Tuần 7</strong></td><td><strong>Sửa lỗi & Hoàn thiện Báo cáo</strong></td><td>- Tập trung sửa các lỗi đã phát hiện ở tuần 6.  - Tối ưu hóa hiệu năng và tinh chỉnh lại giao diện người dùng.  - Hoàn thiện nội dung chi tiết cho các chương báo cáo còn lại (Chương 6, 7, 8).  - Rà soát và chỉnh sửa toàn bộ báo cáo.</td><td>- Phiên bản Beta của phần mềm, hoạt động ổn định.  - Bản nháp hoàn chỉnh của toàn bộ báo cáo cuối kỳ.</td></tr>
<tr><td><strong>Tuần 8</strong></td><td><strong>Đóng gói & Bàn giao</strong></td><td>- Thực hiện kiểm thử lại toàn bộ hệ thống (regression testing).  - Hoàn thiện bản báo cáo cuối cùng.  - Chuẩn bị slide thuyết trình và quay video demo sản phẩm.  - Đóng gói mã nguồn và sản phẩm để nộp.</td><td>- Sản phẩm cuối cùng (Final Release).  - Toàn bộ báo cáo, slide và video demo hoàn chỉnh.</td></tr>
</table>

<p>CHƯƠNG 2: KHẢO SÁT HIỆN TRẠNG
=============================</p>

<p>Kế hoạch khảo sát
-----------------</p>

<p>Để thực hiện đồ án "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng", nhóm chúng em đã tiến hành khảo sát hiện trạng nhằm mục tiêu tìm hiểu về các công việc liên quan đến phần mềm. Quá trình khảo sát được thực hiện bằng các phương pháp sau:</p>

<p>* <strong>Thu thập và phân tích tài liệu:</strong> Nhóm đã tiến hành phân tích chi tiết các tài liệu mô tả yêu cầu chức năng cho phần mềm quản lý và phần mềm dành cho nhân viên kỹ thuật do chủ doanh nghiệp cung cấp (tài liệu Phần mềm quản lý.docx và Phần mềm nhân viên.docx).
* <strong>Phỏng vấn:</strong> Thực hiện phỏng vấn các đối tượng người dùng cuối bao gồm:
  + Chủ doanh nghiệp
  + Quản lý (Người giao việc)
  + Kỹ thuật viên (Nhân viên hiện trường / Người thực hiện công việc)</p>

<p>để làm rõ quy trình nghiệp vụ, những khó khăn trong công việc hiện tại và mong muốn đối với phần mềm mới.</p>

<p>* <strong>Thực nghiệm:</strong> Do có thành viên từng làm qua các công việc này nên xem như đã thực nghiệm qua quy trình thực hiện thực tế từ khâu tiếp nhận yêu cầu, lên lịch, phân công, thực hiện tại hiện trường, báo cáo cho đến khâu quản lý kho và đánh giá nhân sự.</p>

<p>Hiện trạng tổ chức
------------------</p>

<p>Dựa trên kết quả khảo sát, cơ cấu tổ chức của công ty dịch vụ diệt côn trùng được mô tả như sau:</p>

<h3>Sơ đồ cơ cấu tổ chức</h3>

<p>* Giám đốc
  + Bộ phận Kinh doanh & CSKH
  + Bộ phận Kỹ thuật
    - Leader (Trưởng nhóm/Quản lý)
    - Kỹ thuật viên (KTV)
  + Bộ phận Hành chính & Kho</p>

<h3>Chức năng của các vai trò trong cơ cấu tổ chức</h3>

<p>* <strong>Giám đốc:</strong> Quản lý và điều hành tổng thể mọi hoạt động của công ty.
* <strong>CSKH:</strong> Là đầu mối tiếp nhận thông tin và yêu cầu từ khách hàng, chịu trách nhiệm nhập liệu thông tin khách hàng, làm hợp đồng, gửi các xác nhận lịch và báo cáo công việc cho khách hàng.
* <strong>Leader:</strong> Chịu trách nhiệm lên kế hoạch, phân công công việc cho các KTV, theo dõi và giám sát tiến độ thực hiện.
* <strong>Kỹ thuật viên (KTV):</strong> Là người trực tiếp thực hiện công việc tại hiện trường, bao gồm nhận lịch, di chuyển, thực hiện công tác chuyên môn (check-in/out, kiểm tra bẫy, xử lý côn trùng), lập báo cáo công việc và báo cáo vật tư sử dụng.
* <strong>Admin/Kho:</strong> Quản lý các vấn đề hành chính như công tác phí, tăng ca và chịu trách nhiệm quản lý nhập, xuất, tồn kho hóa chất, vật tư.</p>

<h3>Hiện trạng tin học</h3>

<p>* <strong>Hệ thống phần cứng & phần mềm:</strong>
  + Tại văn phòng (CSKH, Leader, Admin), nhân viên được trang bị máy tính để bàn, sử dụng chủ yếu bộ công cụ Microsoft Office (Word, Excel), Google Docs, Google Spreadsheets, Google Drive,... để soạn thảo hợp đồng, lên kế hoạch công việc và quản lý dữ liệu.
  + Các KTV tại hiện trường được trang bị điện thoại thông minh (Hệ điều hành Android) để liên lạc (Zalo, gọi điện, chụp hình), xem lịch công việc được gửi qua các ứng dụng chat, sử dụng GPS để định vị vị trí thực hiện công việc.
* <strong>Con người:</strong>
  + Nhân viên văn phòng có trình độ tin học tốt, thành thạo các phần mềm văn phòng.
  + KTV có khả năng sử dụng các ứng dụng cơ bản trên điện thoại, tuy nhiên quy trình làm việc hiện tại còn thủ công (báo cáo qua group Zalo), do đó yêu cầu phần mềm trên di động phải có giao diện đơn giản, dễ thao tác, và tối ưu hóa các bước nhập liệu.</p>

<h3>Hiện trạng nghiệp vụ</h3>

<h4>Nghiệp vụ tin học hóa</h4>

<p>Các nghiệp vụ hiện đang được hỗ trợ một phần bởi công cụ tin học:</p>

<p>* <strong>Lên kế hoạch:</strong> Leader sử dụng file Excel để tạo và quản lý lịch làm việc cho KTV.
* <strong>Giao tiếp:</strong> Sử dụng Zalo để giao tiếp nội bộ và gửi lịch cho KTV.
* <strong>Lưu trữ thông tin khách hàng:</strong> Thông tin khách hàng, hợp đồng được lưu trữ trong các file Excel và Word.</p>

<h4>Nghiệp vụ không tin học hóa</h4>

<p>Các nghiệp vụ còn thực hiện thủ công, chưa có hệ thống hỗ trợ đồng bộ:</p>

<p>* <strong>Xác nhận công việc của KTV:</strong> KTV thường xác nhận qua Zalo hoặc điện thoại, không có hệ thống ghi nhận chính thức.
* <strong>Check-in/Check-out:</strong> KTV không có công cụ để ghi nhận thời gian bắt đầu và kết thúc công việc một cách tự động và chính xác.
* <strong>Báo cáo hiện trường:</strong> KTV thường chụp ảnh bằng điện thoại, sau đó gửi qua Zalo cho Leader/CSKH tổng hợp lại, gây mất thời gian và dễ thất lạc thông tin.
* <strong>Báo cáo vật tư:</strong> Việc ghi nhận hóa chất sử dụng thường được ghi vào sổ/giấy công việc hoặc báo cáo qua Zalo, dễ gây sai sót khi tổng hợp tồn kho.
* <strong>Tính toán công tác phí:</strong> Việc tính toán quãng đường (km) di chuyển của KTV để tính phí còn thủ công và thiếu chính xác.</p>

<h4>Các nghiệp vụ của công ty</h4>

<p>* <strong>Nghiệp vụ Quản lý Khách hàng và Lên kế hoạch:</strong>
  + <em>Tình huống:</em> Khi có khách hàng mới hoặc tới lịch làm việc định kỳ.
  + <em>Thực hiện:</em> CSKH nhập thông tin khách hàng (mã, tên, địa chỉ, SĐT, email, thông tin hóa đơn) vào file Excel. Leader dựa vào đó để xếp lịch (định kỳ hoặc đột xuất), ghi rõ nội dung công việc, phân công KTV và xuất file Excel kế hoạch.
* <strong>Nghiệp vụ KTV Nhận và Thực hiện Công việc:</strong>
  + <em>Tình huống:</em> KTV được phân công một công việc.
  + <em>Thực hiện:</em> KTV nhận lịch và phải xác nhận đã nhận lịch làm việc. Khi đến địa điểm, KTV phải check-in để ghi nhận thời gian bắt đầu. Báo cáo người phụ trách của khách hàng tại điểm làm việc. KTV thực hiện công việc theo checklist, ghi chú, chụp ảnh hiện trường, điền thông tin vào các biểu mẫu báo cáo công tác, gửi khách hàng 1 bản. Khi xong việc, KTV check-out để ghi nhận thời gian kết thúc.
* <strong>Nghiệp vụ Báo cáo và Gửi Khách hàng:</strong>
  + <em>Tình huống:</em> Công việc tại hiện trường đã hoàn thành.
  + <em>Thực hiện:</em> KTV hoàn thành Báo cáo công tác (BCCT) và lấy chữ ký xác nhận từ khách hàng. Quản lý sẽ kiểm tra, tổng hợp và sẽ gửi BCCT này qua email của khách hàng.
* <strong>Nghiệp vụ Quản lý Kho và Hóa chất:</strong>
  + <em>Tình huống:</em> KTV sử dụng hóa chất trong quá trình làm việc.
  + <em>Thực hiện:</em> KTV trước khi đi thực hiện công việc sẽ đến công ty để lấy hóa chất, điền vào biểu mẫu báo cáo hóa chất về các vật tư đã sẽ dụng. Dữ liệu này được dùng để tính tồn kho của nhân viên theo công thức: Tồn kho = Tồn đầu tháng + Nhập kho – Số sử dụng.
* <strong>Nghiệp vụ Quản lý Công tác phí và Đánh giá KPI:</strong>
  + <em>Tình huống:</em> Cuối kỳ cần tính lương và đánh giá hiệu quả làm việc.
  + <em>Thực hiện:</em> Admin dựa trên dữ liệu check-in/out, quãng đường di chuyển (km) để tính công tác phí. Leader dựa trên số lượng job hoàn thành và mức độ hoàn thành để đánh giá KPI của KTV.</p>

<p>Danh sách các yêu cầu phần mềm
------------------------------</p>

<p>Từ kết quả khảo sát hiện trạng, nhóm chúng em đã xác định các yêu cầu cho hệ thống phần mềm như sau:</p>

<h3>Yêu cầu chức năng</h3>

<p>Hệ thống cần có các chức năng chính sau:</p>

<p>* <strong>Quản lý Khách hàng & Kế hoạch:</strong>
  + Lưu trữ và quản lý thông tin khách hàng (mã số thuế, tên, địa chỉ, SĐT, email, công việc thực hiện, tuần suất thực hiện).
  + Lên kế hoạch công việc, xuất được ra file Excel.
  + Xếp lịch dịch vụ định kỳ (theo ngày, tuần, tháng).
  + Phân công công việc cho từng KTV.
* <strong>Chức năng cho KTV:</strong>
  + Nhận và xác nhận lịch làm việc.
  + Chức năng Check-in/Check-out tại địa điểm làm việc để ghi nhận thời gian.
  + Hiển thị danh sách công việc cần thực hiện.
  + Cho phép ghi chú, chụp và đính kèm hình ảnh hiện trường.
* <strong>Chức năng Báo cáo & Tự động hóa:</strong>
  + Tự động tính toán quãng đường (km) di chuyển giữa các "job" và từ công ty đến "job".
  + Tự động cập nhật và tính toán tồn kho hóa chất của KTV.
  + Xuất các báo cáo checklist (bẫy keo, bẫy đèn, mồi/bã) ra Excel kèm biểu đồ theo thời gian.
* <strong>Chức năng Quản lý & Đánh giá:</strong>
  + Quản lý công tác phí cho nhân viên.
  + Thống kê và đánh giá KPI của KTV dựa trên số lượng và mức độ hoàn thành công việc.</p>

<h3>Yêu cầu phi chức năng</h3>

<p>* <strong>Tính tiện dụng:</strong> Giao diện phần mềm phải dễ nhìn, thân thiện, thao tác đơn giản và ít bước. Hỗ trợ chức năng nhập liệu bằng giọng nói để thuận tiện cho KTV khi đang làm việc.
* <strong>Tính hiệu quả:</strong> Hệ thống phải xử lý nhanh, nhẹ, đặc biệt là chức năng tải lên hình ảnh và dữ liệu từ KTV.
* <strong>Tính tương thích:</strong> Hệ thống phải có khả năng xuất dữ liệu (kế hoạch, báo cáo) ra định dạng file Excel.
* <strong>Tính bảo mật:</strong> Cần có cơ chế phân quyền người dùng rõ ràng (Admin, Leader, CSKH, KTV).
* <strong>Độ tin cậy:</strong> Dữ liệu về thời gian (check-in/out), vị trí, quãng đường phải được ghi nhận một cách chính xác.</p>

<p>Mô tả tổng thể
--------------</p>

<p>Dựa trên các yêu cầu đã khảo sát, phần mềm được đề xuất sẽ là một hệ thống Web Responsive hoạt động tốt trên cả Desktop và Mobile:</p>

<p>* Dành cho các bộ phận quản lý tại văn phòng (Leader, CSKH, Admin) để thực hiện các nghiệp vụ quản lý khách hàng, lập kế hoạch, theo dõi, quản lý kho và xem báo cáo tổng thể.
* Dành riêng cho Kỹ thuật viên (KTV) có thể xem và đăng nhập, thực hiện các thao tác trên trình duyệt web mobile, giúp họ nhận việc, thực hiện công việc tại hiện trường và báo cáo một cách nhanh chóng, thuận tiện.</p>

<p>Trong tương lai, với KTV sẽ phát triển thêm Ứng dụng Di động (Mobile Application) để hiện các thông báo và các tính năng hiệu quả hơn, vẫn sẽ kết nối và đồng bộ dữ liệu với website thông qua một cơ sở dữ liệu tập trung, đảm bảo thông tin luôn được cập nhật theo thời gian thực.</p>

<p>Chức năng hệ thống
------------------</p>

<p>Hệ thống được phát triển sẽ bao gồm các phân hệ chức năng chính sau:</p>

<h3>Phân hệ Quản lý Vận hành (trên Web App)</h3>

<p>* <strong>Quản lý Khách hàng:</strong> Cho phép CSKH nhập và quản lý toàn bộ thông tin khách hàng, và các yêu cầu dịch vụ.
* <strong>Lập kế hoạch và Phân công:</strong> Cho phép Leader tạo lịch làm việc (định kỳ, đột xuất), phân công công việc cụ thể cho từng KTV, và xuất kế hoạch ra file Excel.
* <strong>Theo dõi và Giám sát:</strong> Hiển thị vị trí và trạng thái làm việc của KTV theo thời gian thực (dựa trên dữ liệu check-in/out).
* <strong>Quản lý Báo cáo:</strong> Tiếp nhận, đánh giá các báo cáo từ KTV.</p>

<h3>Phân hệ Tác nghiệp KTV (trên Web App)</h3>

<p>* <strong>Nhận việc và Xác nhận:</strong> Nhận thông báo công việc mới và xác nhận lịch làm việc qua Web App.
* <strong>Thực thi tại hiện trường:</strong> Hỗ trợ check-in/out để ghi nhận thời gian làm việc, hiển thị checklist công việc, cho phép ghi chú và đính kèm hình ảnh nhanh chóng.
* <strong>Báo cáo tại chỗ:</strong> Cho phép KTV nhập dữ liệu công việc xử lý khi thực hiện công việc.</p>

<h3>Phân hệ Quản trị và Báo cáo (trên Web App)</h3>

<p>* <strong>Quản lý Kho:</strong> Quản lý số lượng nhập, xuất, tồn kho hóa chất và vật tư của từng nhân viên.
* <strong>Quản lý Công tác phí:</strong> Tự động tính toán quãng đường di chuyển của KTV và hỗ trợ tính công tác phí, tăng ca.
* <strong>Báo cáo và Thống kê:</strong> Cung cấp các báo cáo tổng hợp về tình hình công việc, hiệu suất của KTV (KPI), và xuất các báo cáo ra file Excel kèm biểu đồ.</p>

<p>Ràng buộc, giả định và phụ thuộc
--------------------------------</p>

<h3>Ràng buộc</h3>

<p>* <strong>Phạm vi:</strong> Phần mềm phải đáp ứng các yêu cầu cơ bản chức năng đã được liệt kê trong mục <strong>2.3</strong> của đồ án.
* <strong>Thời gian:</strong> Đồ án phải được hoàn thành trong khung thời gian của học kỳ môn học.
* <strong>Công nghệ:</strong> Hệ thống phải được phát triển trên nền tảng Web cho phần quản lý và cho KTV.</p>

<h3>Giả định</h3>

<p>* <strong>Tài nguyên:</strong> Nhóm phát triển có đủ các tài nguyên cần thiết về phần cứng (máy tính, điện thoại thông minh) và phần mềm (môi trường lập trình, cơ sở dữ liệu) để hoàn thành đồ án.
* <strong>Môi trường sử dụng:</strong> Các KTV được trang bị điện thoại thông minh có kết nối Internet (3G/4G/Wifi) và bật dịch vụ định vị (GPS) để đảm bảo các chức năng check-in/out và tính quãng đường hoạt động chính xác.
* <strong>Yêu cầu:</strong> Các yêu cầu chức năng và nghiệp vụ được mô tả trong tài liệu này được xem là ổn định và không có thay đổi lớn trong suốt quá trình phát triển đồ án.</p>

<h3>Phụ thuộc</h3>

<p>* <strong>Thiết kế CSDL:</strong> Việc thiết kế cơ sở dữ liệu (Chương 4) phải được hoàn thành và phê duyệt trước khi bắt đầu giai đoạn lập trình các chức năng xử lý nghiệp vụ (backend).
* <strong>Phát triển API:</strong> Các giao diện lập trình ứng dụng (API) phía máy chủ (backend) phải được xây dựng và triển khai trước để ứng dụng di động (frontend) có thể kết nối, gửi và nhận dữ liệu.
* <strong>Giao diện người dùng (UI):</strong> Thiết kế giao diện chi tiết của các màn hình (Chương 5) phụ thuộc vào việc đặc tả chi tiết các luồng xử lý nghiệp vụ đã được xác định trong chương này.</p>

<p>Sơ đồ luồng dữ liệu (DFD)
-------------------------</p>

<h3>DFD cho Leader giao việc</h3>

<p>Sơ đồ mô tả cách Leader sử dụng hệ thống để tạo và phân công công việc mới.</p>

<p>* <strong>Tác nhân:</strong>
  + Leader (Người dùng)
* <strong>Khối xử lý:</strong>
  + Lập kế hoạch công việc
* <strong>Kho dữ liệu (Bộ nhớ phụ):</strong>
  + CSDL Khách hàng
  + CSDL Nhân viên
  + CSDL Lịch làm việc
* <strong>Mô tả các luồng dữ liệu:</strong>
  + <strong>D1 (Thông tin yêu cầu lập kế hoạch):</strong> Leader chọn chức năng lập kế hoạch. Dữ liệu nhập vào bao gồm: chọn khách hàng cần lên lịch, thời gian thực hiện (ngày, giờ), nội dung công việc, và chọn KTV để phân công.
  + <strong>D2 (Kết quả lập kế hoạch):</strong> Màn hình hiển thị thông báo "Lập kế hoạch thành công" và cập nhật lại giao diện lịch làm việc tổng quan.
  + <strong>D3 (Dữ liệu đọc từ CSDL):</strong> Khối xử lý truy vấn đến CSDL Khách hàng để lấy danh sách khách hàng và đến CSDL Nhân viên để lấy danh sách KTV có thể phân công.
  + <strong>D4 (Dữ liệu ghi vào CSDL):</strong> Sau khi Leader nhấn "Lưu", thông tin kế hoạch mới (bao gồm Mã công việc, Mã khách hàng, Mã KTV, Thời gian, Nội dung công việc, Trạng thái "Chưa xác nhận") được ghi vào CSDL Lịch làm việc.</p>

<h3>DFD cho KTV Xác nhận và cập nhật báo cáo công việc</h3>

<p>Sơ đồ này mô tả luồng công việc của KTV từ khi nhận việc đến khi báo cáo hoàn thành.</p>

<p>* <strong>Tác nhân:</strong>
  + KTV (Kỹ thuật viên)
  + Hệ thống (Đại diện cho phần Web App quản lý gửi lịch xuống)
  + Thiết bị di động (Cung cấp dữ liệu GPS, Camera)
* <strong>Các khối xử lý:</strong>
  + Xem và Xác nhận Lịch
  + Thực hiện Check-in/out
  + Cập nhật Báo cáo Hiện trường
* <strong>Kho dữ liệu (Bộ nhớ phụ):</strong>
  + CSDL Lịch làm việc
  + CSDL Báo cáo công việc
  + CSDL Kho vật tư
* <strong>Mô tả các luồng dữ liệu:</strong>
  + <strong>D1 (Lịch làm việc được giao):</strong> Hệ thống gửi thông tin công việc (khách hàng, địa chỉ, thời gian, nội dung) đến cho KTV.
  + <strong>D2 (Yêu cầu xác nhận):</strong> KTV xem công việc và nhấn nút "Xác nhận" trên giao diện.
  + <strong>D3 (Cập nhật trạng thái "Đã xác nhận"):</strong> Trạng thái của công việc trong CSDL Lịch làm việc được cập nhật.
  + <strong>D4 (Yêu cầu Check-in/Check-out):</strong> KTV nhấn nút "Check-in" khi bắt đầu và "Check-out" khi kết thúc công việc.
  + <strong>D5 (Dữ liệu GPS & Thời gian):</strong> Thiết bị di động tự động cung cấp tọa độ vị trí và thời gian hệ thống cho khối xử lý.
  + <strong>D6 (Ghi nhận thời gian & vị trí):</strong> Thông tin check-in/out (thời gian, vị trí) được lưu vào CSDL Báo cáo công việc.
  + <strong>D7 (Dữ liệu báo cáo):</strong> KTV nhập các thông tin như <strong>ghi chú công việc</strong>, <strong>điền checklist</strong>, và nhập <strong>số lượng vật tư đã sử dụng</strong>.
  + <strong>D8 (Hình ảnh hiện trường):</strong> KTV sử dụng Thiết bị di động để chụp và tải lên hình ảnh liên quan đến công việc.
  + <strong>D9 (Lưu dữ liệu báo cáo):</strong> Các thông tin từ D7 và D8 được lưu vào CSDL Báo cáo công việc.
  + <strong>D10 (Cập nhật vật tư đã dùng):</strong> Số lượng vật tư sử dụng được cập nhật vào CSDL Kho vật tư để quản lý tồn kho của KTV.</p>

<h3>DFD cho chức năng "Quản lý Kho"</h3>

<p>Sơ đồ này mô tả cách Admin hoặc người quản lý kho cập nhật số lượng vật tư, hóa chất cho từng KTV.</p>

<p>* <strong>Tác nhân:</strong>
  + Admin/Kho
* <strong>Khối xử lý:</strong>
  + Cập nhật Kho vật tư KTV
* <strong>Kho dữ liệu (Bộ nhớ phụ):</strong>
  + CSDL Kho vật tư
  + CSDL Báo cáo công việc
  + CSDL Nhân viên
* <strong>Mô tả các luồng dữ liệu:</strong>
  + <strong>D1 (Thông tin nhập/xuất kho):</strong> Admin/Kho chọn một KTV và thực hiện thao tác (ví dụ: "Nhập vật tư mới"). Dữ liệu nhập vào bao gồm <strong>tên vật tư</strong> và <strong>số lượng</strong>.
  + <strong>D2 (Kết quả cập nhật kho):</strong> Hệ thống hiển thị thông báo cập nhật thành công và làm mới lại bảng tồn kho của KTV đó trên màn hình.
  + <strong>D3 (Dữ liệu vật tư đã sử dụng):</strong> Khối xử lý có thể đọc dữ liệu từ CSDL Báo cáo công việc để đối chiếu số lượng vật tư mà KTV đã báo cáo sử dụng.
  + <strong>D4 (Ghi nhận thay đổi tồn kho):</strong> Dựa trên thao tác của Admin/Kho (nhập thêm hoặc trừ đi số lượng đã dùng), khối xử lý sẽ cập nhật lại số lượng tồn kho mới của KTV trong CSDL Kho vật tư.
  + <strong>D5 (Thông tin KTV):</strong> Hệ thống đọc CSDL Nhân viên để hiển thị danh sách KTV cho Admin/Kho lựa chọn.</p>

<h3>DFD cho chức năng "Quản lý Công tác phí"</h3>

<p>Sơ đồ này mô tả quy trình hệ thống hỗ trợ Admin tính toán công tác phí dựa trên dữ liệu công việc của KTV.</p>

<p>* <strong>Tác nhân:</strong>
  + Admin
* <strong>Khối xử lý:</strong>
  + Tính toán Công tác phí
* <strong>Kho dữ liệu (Bộ nhớ phụ):</strong>
  + CSDL Báo cáo công việc
* <strong>Mô tả các luồng dữ liệu:</strong>
  + <strong>D1 (Yêu cầu tính công tác phí):</strong> Admin chọn KTV và khoảng thời gian (ví dụ: từ ngày A đến ngày B) cần tính công tác phí.
  + <strong>D2 (Bảng kê công tác phí chi tiết):</strong> Hệ thống hiển thị kết quả chi tiết cho Admin xem, bao gồm tổng số km di chuyển, tổng thời gian làm việc, thời gian tăng ca (nếu có) và số tiền tương ứng.
  + <strong>D3 (Dữ liệu công việc):</strong> Khối xử lý truy vấn đến CSDL Báo cáo công việc để lấy toàn bộ dữ liệu liên quan trong khoảng thời gian đã chọn, bao gồm: <strong>thời gian check-in, thời gian check-out, và tọa độ GPS</strong> của từng công việc. Dựa vào các tọa độ này, hệ thống sẽ tự động tính toán quãng đường di chuyển.</p>

<h3>DFD cho chức năng "Báo cáo và Thống kê"</h3>

<p>Sơ đồ này mô tả cách Leader hoặc Admin tạo các báo cáo tổng hợp về tình hình công việc và hiệu suất (KPI) của KTV.</p>

<p>* <strong>Tác nhân:</strong>
  + Leader/Admin
  + Thiết bị xuất (Trình duyệt để tải file Excel)
* <strong>Khối xử lý:</strong>
  + Tạo Báo cáo Thống kê
* <strong>Kho dữ liệu (Bộ nhớ phụ):</strong>
  + CSDL Báo cáo công việc
  + CSDL Nhân viên
* <strong>Mô tả các luồng dữ liệu:</strong>
  + <strong>D1 (Yêu cầu báo cáo):</strong> Leader/Admin chọn loại báo cáo (ví dụ: KPI theo KTV, báo cáo công việc theo khách hàng), và các bộ lọc như <strong>khung thời gian</strong> hoặc <strong>tên KTV</strong>.
  + <strong>D3 (Dữ liệu thô từ CSDL):</strong> Khối xử lý tổng hợp dữ liệu từ CSDL Báo cáo công việc (số job hoàn thành, thời gian trung bình mỗi job,...) và CSDL Nhân viên (thông tin KTV).
  + <strong>D5 (Xuất file Excel):</strong> Sau khi dữ liệu được tổng hợp, Leader/Admin có thể nhấn nút "Xuất Excel". Hệ thống sẽ tạo file báo cáo và gửi đến Thiết bị xuất để người dùng tải về.
  + <strong>D6 (Hiển thị báo cáo và biểu đồ):</strong> Kết quả thống kê (dưới dạng bảng biểu và biểu đồ) được hiển thị trực quan trên giao diện web cho Leader/Admin xem.</p>

<p>CHƯƠNG 3: THIẾT KẾ PHẦN MỀM
===========================</p>

<p>Lựa chọn công nghệ
------------------</p>

<p>Việc lựa chọn công nghệ để làm phần mềm là một trong những quyết định nền tảng, ảnh hưởng đến toàn bộ quá trình phát triển của một dự án phần mềm. Đối với một đồ án nhập môn, các tiêu chí không chỉ dừng lại ở việc hoàn thành sản phẩm mà còn bao gồm cả giá trị học thuật và định hướng nghề nghiệp.</p>

<p>Sau khi xem xét, nhóm đã quyết định lựa chọn bộ đôi công nghệ <strong>Node.js</strong> cho phần backend và <strong>React.js</strong> cho phần frontend. Lý do chính là vì chúng cùng chia sẻ một ngôn ngữ lập trình duy nhất là <strong>JavaScript</strong>, tạo ra một hệ sinh thái đồng nhất, hiệu quả và phù hợp với xu hướng của ngành công nghiệp hiện nay.</p>

<h3>NODE.JS & REACT.JS</h3>

<h4>Tính tiện dụng và tính tái sử dụng</h4>

<strong>Một ngôn ngữ cho tất cả:</strong> Đây là ưu điểm vượt trội nhất. Việc chỉ sử dụng <strong>JavaScript</strong> cho cả frontend (React) và backend (Node.js) giúp:

<p>* <strong>Giảm tải thời gian thực hiện:</strong> Sinh viên chỉ cần tập trung làm chủ một ngôn ngữ duy nhất.
* <strong>Làm việc nhóm liền mạch:</strong> Các thành viên có thể dễ dàng hỗ trợ lẫn nhau, đọc và hiểu code của cả hai phần hệ thống.
* <strong>Tái sử dụng code:</strong> Các logic nghiệp vụ như kiểm tra dữ liệu đầu vào (validation), định dạng dữ liệu... có thể được viết một lần trong các module JavaScript và sử dụng lại ở cả client và server, giúp tiết kiệm thời gian và đảm bảo tính nhất quán.</p>

<h4>Tính tiến hóa và tính dễ bảo trì</h4>

<p>* <strong>Kiến trúc dựa trên thành phần (Component-Based) của React:</strong> React xây dựng giao diện người dùng từ các thành phần (Component) độc lập và có thể tái sử dụng. Ví dụ, một nút bấm, một form đăng nhập, một thanh tìm kiếm đều là các component.
  + Tính dễ bảo trì: Khi cần sửa một chức năng, ta chỉ cần tìm đến component tương ứng để chỉnh sửa mà không sợ ảnh hưởng đến các phần khác của ứng dụng.
  + Tính tiến hóa: Dự án có thể dễ dàng mở rộng bằng cách xây dựng các component mới và ghép chúng lại với nhau. Điều này rất phù hợp với quy trình làm việc của một đồ án, nơi các tính năng được xây dựng và bổ sung dần dần.
* <strong>Hệ sinh thái NPM (Node Package Manager):</strong> Cả Node.js và React.js đều sử dụng NPM, kho thư viện mã nguồn mở lớn nhất thế giới. Khi cần một chức năng nào đó (ví dụ: vẽ biểu đồ, xử lý file Excel), gần như chắc chắn đã có một thư viện được cộng đồng phát triển sẵn, giúp đẩy nhanh tiến độ của dự án.</p>

<h4>Tính tương thích và tính dễ kiểm tra</h4>

<p>* <strong>Mô hình Client-Server rõ ràng:</strong> Node.js đóng vai trò là một server tạo ra các <strong>API</strong> (thường là RESTful API). React.js ở phía client sẽ gọi đến các API này để lấy dữ liệu và hiển thị. Mô hình này là tiêu chuẩn của hầu hết các ứng dụng web hiện đại, giúp hệ thống có <strong>tính tương thích cao</strong> và hai phần frontend-backend phát triển độc lập.
* <strong>Hệ thống kiểm thử đồng nhất:</strong> Có rất nhiều công cụ mạnh mẽ để kiểm thử trong hệ sinh thái JavaScript. Tiêu biểu là <strong>Jest</strong>, một framework có thể được sử dụng để viết unit test cho cả logic backend của Node.js và các component giao diện của React. Điều này giúp việc đảm bảo chất lượng phần mềm <strong>(Tính dễ kiểm tra)</strong> trở nên đồng bộ và hiệu quả hơn.</p>

<h4>Tính hiệu quả</h4>

<p>* <strong>Node.js:</strong> Với kiến trúc bất đồng bộ, phi chặn (non-blocking I/O), Node.js xử lý rất hiệu quả các tác vụ liên quan đến đọc/ghi dữ liệu (ví dụ: gọi API, truy vấn CSDL), rất phù hợp cho các ứng dụng web có nhiều người dùng đồng thời.
* <strong>React.js:</strong> Sử dụng khái niệm Virtual DOM (DOM ảo) để tối ưu hóa việc cập nhật giao diện, giúp ứng dụng chạy mượt mà và phản hồi nhanh hơn, mang lại trải nghiệm tốt cho người dùng.</p>

<h4>Tính phổ biến và cơ hội nghề nghiệp</h4>

<p>Đây là lý do mang tính chiến lược và quan trọng nhất đối với sinh viên khi lựa chọn công nghệ này.</p>

<p>* <strong>"Ngôn ngữ vua" của Web:</strong> JavaScript, cùng với Node.js và React.js, đang thống trị thế giới phát triển web. Theo các khảo sát uy tín hàng năm (như của Stack Overflow), đây liên tục là những công nghệ được sử dụng nhiều nhất và được các nhà tuyển dụng săn đón nhất.
* <strong>Đầu tư cho tương lai:</strong> Việc dành thời gian và công sức để làm đồ án với Node.js và React.js không chỉ là để qua môn. Đây là một sự đầu tư trực tiếp vào kỹ năng nghề nghiệp. Kiến thức và kinh nghiệm từ đồ án này có thể áp dụng thẳng vào các công việc thực tế.
* <strong>Lộ trình sự nghiệp rõ ràng:</strong> Nắm vững stack công nghệ này mở ra một con đường sự nghiệp rộng lớn, từ các vị trí thực tập sinh (intern) đến lập trình viên Full-stack Junior. Hầu hết các công ty công nghệ tại Việt Nam và trên thế giới đều có nhu cầu tuyển dụng lập trình viên biết Node.js và React.js.</p>

<p>Việc lựa chọn bộ đôi <strong>Node.js và React.js</strong> cho đồ án Nhập môn Công nghệ phần mềm là một quyết định hoàn toàn hợp lý. Sự kết hợp này không chỉ mang lại lợi ích về mặt kỹ thuật như hiệu quả phát triển nhanh, dễ bảo trì, dễ mở rộng mà quan trọng hơn, nó còn trang bị cho sinh viên bộ kỹ năng đang có nhu-cầu cao nhất trên thị trường lao động, tạo ra một lợi thế cạnh tranh rõ rệt sau khi ra trường.</p>

<h3>Cơ sở dữ liệu</h3>

<h4>Bối cảnh và vấn đề gặp phải</h4>

<p>Trong quá trình thực hiện đồ án, nhóm chúng em đối mặt với một số thách thức chính trong việc xây dựng và quản lý phần backend, cụ thể là cơ sở dữ liệu (CSDL):</p>

<p>* <strong>Làm việc nhóm từ xa:</strong> Việc các thành viên ở các địa điểm khác nhau gây khó khăn trong việc đồng bộ hóa cơ sở dữ liệu (CSDL) nếu cài đặt trên máy local, dẫn đến tình trạng dữ liệu không nhất quán và cản trở quá trình tích hợp.
* <strong>Hiệu quả phát triển:</strong> Thời gian và nguồn lực có hạn đòi hỏi một giải pháp giúp tăng tốc quá trình xây dựng các chức năng backend cơ bản như API và xác thực người dùng.
* <strong>Nhu cầu kiểm thử "live":</strong> Nhóm cần một môi trường chung, có thể truy cập qua Internet để các thành viên (đặc biệt là frontend) có thể kiểm thử chức năng với dữ liệu thật một cách tức thì.
* <strong>Yêu cầu kỹ thuật:</strong> Đồ án yêu cầu một CSDL quan hệ (SQL) để đảm bảo tính toàn vẹn và thực hiện các truy vấn phức tạp, đồng thời cần đảm bảo dự án không bị phụ thuộc vào một nhà cung cấp duy nhất.</p>

<p>Từ những vấn đề trên, nhóm đã quyết định tìm kiếm một giải pháp "Backend-as-a- Service" (BaaS) và <strong>lựa chọn Supabase</strong> làm nền tảng cốt lõi cho phần SQL của dự án.</p>

<h4>Đánh giá Supabase và lý do lựa chọn</h4>

<p>Supabase không chỉ là một CSDL, mà là một nền tảng backend hoàn chỉnh, cung cấp các công cụ cần thiết giúp giải quyết triệt để các vấn đề nhóm gặp phải.</p>

<h4>Giải pháp cho vấn đề làm việc nhóm online và đồng bộ dữ liệu</h4>

<p>Đây là <strong>lý do quan trọng nhất</strong> khiến nhóm quyết định lựa chọn Supabase.</p>

<p>* <strong>CSDL Postgres trên cloud:</strong> Supabase cung cấp một CSDL PostgreSQL đầy đủ, được host hoàn toàn trên cloud. Điều này có nghĩa là:
  + <strong>Loại bỏ CSDL local:</strong> Không ai trong nhóm cần phải cài đặt, cấu hình hay quản lý CSDL trên máy tính cá nhân. Mọi thành viên chỉ cần có kết nối Internet là có thể truy cập vào cùng một CSDL duy nhất.
  + <strong>Một nguồn dữ liệu duy nhất (Single Source of Truth):</strong> Tất cả các thành viên, dù là backend hay frontend, đều làm việc trên cùng một bộ dữ liệu. Khi thành viên A thêm một sản phẩm mới vào CSDL, thành viên B có thể thấy ngay lập tức. Điều này giúp loại bỏ hoàn toàn tình trạng "code tôi chạy trên máy tôi".
  + <strong>Môi trường "Test Live" lý tưởng:</strong> Thành viên frontend có thể phát triển giao diện và gọi trực tiếp đến API của Supabase để lấy dữ liệu thật. Bất kỳ thay đổi nào ở backend (thêm bảng, sửa cột) đều được cập nhật ngay lập tức, giúp quá trình phát triển và kiểm thử diễn ra song song và hiệu quả. Các thành viên có thể cùng nhau test một tính năng theo thời gian thực một cách dễ dàng.</p>

<h4>Tăng tốc độ phát triển và giảm tải công việc</h4>

<p>* <strong>Tự động tạo API:</strong> Dựa trên cấu trúc bảng CSDL tạo ra, Supabase tự động sinh ra các API RESTful. Nhóm không cần tốn thời gian viết code CRUD (Create, Read, Update, Delete) cơ bản, mà có thể tập trung vào việc xử lý logic phức tạp hơn cho đồ án.
* <strong>Xác thực và quản lý người dùng tích hợp sẵn:</strong> Supabase cung cấp hệ thống xác thực mạnh mẽ, hỗ trợ đăng nhập qua email/mật khẩu, và các nhà cung cấp bên thứ ba như Google, GitHub. Việc này giúp tiết kiệm hàng tuần làm việc so với việc tự xây dựng từ đầu.
* <strong>Giao diện quản lý trực quan:</strong> Dashboard của Supabase rất dễ sử dụng, cho phép nhóm tạo bảng, quản lý dữ liệu, xem log... như đang dùng một công cụ bảng tính (spreadsheet), rất phù-hợp với sinh viên chưa có nhiều kinh nghiệm quản trị CSDL chuyên sâu.</p>

<h4>Các ưu điểm kỹ thuật vượt trội khác</h4>

<p>* <strong>Sức mạnh của SQL:</strong> Khác với một số giải pháp NoSQL, Supabase sử dụng PostgreSQL, một CSDL quan hệ cực kỳ mạnh mẽ và phổ biến. Điều này cho phép nhóm tận dụng các kiến thức về SQL đã học, thực hiện các truy vấn phức tạp, ràng buộc khóa ngoại để đảm bảo toàn vẹn dữ liệu – một yêu cầu quan trọng trong hầu hết các đồ án.
* <strong>Tính năng Realtime:</strong> Supabase cho phép lắng nghe các thay đổi trong CSDL theo thời gian thực. Ví dụ, nhóm có thể dễ dàng xây dựng các tính năng như thông báo đẩy, chat trực tiếp, hay tự động cập nhật dữ liệu trên giao diện người dùng mà không cần phải reload trang.
* <strong>Gói miễn phí:</strong> Gói miễn phí (Free Tier) của Supabase cung cấp đủ tài nguyên (CSDL, xác thực, lưu trữ) cho hầu hết các đồ án của sinh viên, giúp nhóm triển khai dự án mà không tốn bất kỳ chi phí nào.</p>

<p>Bằng cách cung cấp một nền tảng backend tập trung, online và dễ sử dụng, Supabase cho phép chúng em:</p>

<p>* <strong>Tập trung</strong> vào việc phát triển các tính năng cốt lõi của ứng dụng thay vì sa đà vào hạ tầng.
* <strong>Hợp tác</strong> một cách liền mạch và hiệu quả.
* <strong>Kiểm thử và demo</strong> sản phẩm trên một môi trường "live" chuyên nghiệp.</p>

<p>Thiết kế kiến trúc
------------------</p>

<p>Phần này trình bày về kiến trúc tổng thể của hệ thống, mô tả các thành phần chính và mối quan hệ giữa chúng. Việc lựa chọn một kiến trúc phù hợp là vô cùng quan trọng, ảnh hưởng trực tiếp đến khả năng mở rộng, bảo trì và hiệu suất của phần mềm trong tương lai.</p>

<p>Dựa trên các yêu cầu đã phân tích, đặc biệt là sự cần thiết phải phân tách rõ ràng giữa giao diện người dùng, logic xử lý nghiệp vụ và lưu trữ dữ liệu, nhóm chúng em quyết định lựa chọn <strong>mô hình kiến trúc 3 lớp (3-Tier Architecture)</strong>. Đây là một biến thể phổ biến và hiệu quả của mô hình Client-Server, giúp hệ thống trở nên linh hoạt, dễ bảo trì và cho phép các thành viên trong nhóm phát triển song song các thành phần khác nhau.</p>

<p>Kiến trúc hệ thống bao gồm 3 lớp chính, mỗi lớp có một vai trò và trách nhiệm riêng biệt. Sơ đồ kiến trúc tổng thể của hệ thống được mô tả như sau:</p>

<h3>Lớp Trình diễn (Presentation Layer)</h3>

<p>Đây là lớp giao diện người dùng (Client), nơi người dùng cuối tương tác trực tiếp với hệ thống.</p>

<p>* <strong>Công nghệ sử dụng:</strong> <strong>ReactJS</strong>.
* <strong>Chức năng:</strong>
  + Xây dựng giao diện người dùng (UI) thân thiện và dễ sử dụng.
  + Cung cấp trải nghiệm người dùng (UX) mượt mà trên nhiều nền tảng:
    - <strong>Giao diện Desktop:</strong> Dành cho các vai trò quản lý như Leader, CSKH, Admin làm việc tại văn phòng.
    - <strong>Giao diện Web Responsive:</strong> Tự động tối ưu hóa hiển thị trên trình duyệt của thiết bị di động, dành cho Kỹ thuật viên (KTV) tác nghiệp tại hiện trường.
  + Thu thập dữ liệu đầu vào từ người dùng (nhập liệu vào form, tải ảnh lên,...).
  + Gửi các yêu cầu (HTTP Requests) đến Lớp Ứng dụng để xử lý và nhận kết quả trả về để hiển thị cho người dùng.</p>

<h3>Lớp Ứng dụng (Application/Business Layer)</h3>

<p>Đây là lớp xử lý trung tâm (Server/Backend), chứa đựng toàn bộ logic và quy trình nghiệp vụ của hệ thống.</p>

<p>* <strong>Công nghệ sử dụng:</strong> <strong>NodeJS</strong> và framework <strong>ExpressJS</strong>.
* <strong>Chức năng:</strong>
  + Xây dựng các API (Application Programming Interface) để làm cầu nối giao tiếp giữa Lớp Trình diễn và Lớp Dữ liệu.
  + Tiếp nhận và xử lý các yêu cầu từ Client.
  + Thực thi các nghiệp vụ phức tạp như: quy trình giao việc, tự động tính toán quãng đường di chuyển, logic cập nhật tồn kho, và thuật toán đánh giá KPI.
  + Tương tác với Lớp Dữ liệu để thực hiện các thao tác truy vấn, thêm, xóa, sửa dữ liệu.</p>

<h3>Lớp Dữ liệu (Data Layer)</h3>

<p>Lớp này chịu trách nhiệm lưu trữ, quản lý và truy xuất toàn bộ dữ liệu của ứng dụng một cách an toàn và nhất quán.</p>

<p>* <strong>Công nghệ sử dụng:</strong> Nền tảng <strong>Supabase</strong>
* <strong>Chức năng:</strong>
  + <strong>Cơ sở dữ liệu (Database):</strong> Sử dụng <strong>PostgreSQL</strong> do Supabase cung cấp để lưu trữ tất cả dữ liệu có cấu trúc của hệ thống như thông tin khách hàng, lịch làm việc, báo cáo công việc, tồn kho vật tư,...
  + <strong>Xác thực (Authentication):</strong> Tận dụng dịch vụ xác thực tích hợp sẵn của Supabase để quản lý việc đăng nhập, đăng ký, phân quyền và bảo mật tài khoản người dùng.
  + <strong>Lưu trữ (Storage):</strong> Sử dụng để lưu trữ các tệp tin, đặc biệt là hình ảnh hiện trường do KTV tải lên từ thiết bị di động.
  + Lớp này sẽ nhận các yêu cầu truy vấn từ Lớp Ứng dụng (NodeJS) và trả về dữ liệu tương ứng.</p>

<p>Mô tả Sơ đồ chức năng (Use-Case Tổng quát)
------------------------------------------</p>

<p>Sơ đồ Use-Case (biểu đồ case sử dụng) được sử dụng để cung cấp một cái nhìn tổng quan ở mức cao về các chức năng chính của hệ thống. Sơ đồ này xác định các <strong>tác nhân (Actors)</strong> - những người hoặc hệ thống bên ngoài sẽ tương tác với phần mềm - và các <strong>case sử dụng (Use Cases)</strong> - những gì mà hệ thống sẽ thực hiện để mang lại giá trị cho tác nhân đó.</p>

<p>Mục tiêu của sơ đồ Use-Case tổng quát là giúp tất cả các bên liên quan, từ đội ngũ phát triển đến người dùng cuối, có một sự hiểu biết chung và thống nhất về phạm vi và chức năng cốt lõi của hệ thống "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng".</p>

<h3>Sơ đồ Use-Case Tổng quát</h3>

<p>Sơ đồ dưới đây mô tả mối quan hệ tương tác giữa các tác nhân và các chức năng chính của hệ thống.</p>

<h3>Bảng mô tả Actors (Tác nhân)</h3>

<p>Bảng dưới đây định nghĩa rõ vai trò và trách nhiệm của từng tác nhân sẽ tương tác với hệ thống, dựa trên kết quả khảo sát ở Chương 2.</p>

<table>
<tr><th><strong>STT</strong></th><th><strong>Tên Actor</strong></th><th><strong>Mô tả</strong></th></tr>
<tr><td>1</td><td>Kỹ thuật viên (KTV)</td><td>Là người dùng chính của các chức năng tại hiện trường. KTV sử dụng hệ thống để nhận lịch, xác nhận công việc, thực hiện check-in/out, cập nhật báo cáo công tác và báo cáo vật tư sử dụng.</td></tr>
<tr><td>2</td><td>Leader/Quản lý</td><td>Chịu trách nhiệm vận hành đội ngũ kỹ thuật. Leader sử dụng hệ thống để lập kế hoạch, phân công công việc cho KTV, theo dõi tiến độ, và đánh giá hiệu suất (KPI) của nhân viên.</td></tr>
<tr><td>3</td><td>CSKH</td><td>Là người dùng chịu trách nhiệm về thông tin khách hàng. CSKH sử dụng hệ thống để nhập liệu, quản lý thông tin khách hàng, làm hợp đồng, và gửi các báo cáo công việc cho khách hàng sau khi được duyệt.</td></tr>
<tr><td>4</td><td>Admin/Kho</td><td>Là người dùng quản lý các vấn đề hành chính và vật tư. Admin/Kho sử dụng hệ thống để quản lý công tác phí, tăng ca, và theo dõi việc nhập, xuất, tồn kho hóa chất, vật tư của từng KTV.</td></tr>
</table>

<h3>Bảng mô tả Use-Cases</h3>

<p>Bảng dưới đây mô tả chi tiết các chức năng chính (case sử dụng) mà hệ thống cung cấp cho các tác nhân.</p>

<table>
<tr><th><strong>Use-Case ID</strong></th><th><strong>Tên Use-Case</strong></th><th><strong>Mô tả</strong></th><th><strong>Phụ trách</strong></th></tr>
<tr><td>UC01</td><td>Quản lý Khách hàng & Hợp đồng</td><td>Bao gồm các chức năng cho phép</td><td>CSKH nhập, lưu trữ và quản lý thông tin chi tiết của khách hàng, cũng như các thông tin liên quan đến hợp đồng và loại hình dịch vụ.</td></tr>
<tr><td>UC02</td><td>Quản lý Kế hoạch & Phân công</td><td>Cho phép Leader tạo lịch làm việc (định kỳ hoặc đột xuất), xác định nội dung công việc, và phân công nhiệm vụ cụ thể cho từng KTV. Hệ thống hỗ trợ xuất kế hoạch ra file Excel.</td><td></td></tr>
<tr><td>UC03</td><td>Thực hiện Công việc</td><td>Đây là chức năng cốt lõi dành cho KTV. Nó bao gồm việc nhận thông báo và xác nhận lịch làm việc, thực hiện check-in/out tại địa điểm, xem checklist công việc, ghi chú và đính kèm hình ảnh báo cáo tại hiện trường.</td><td></td></tr>
<tr><td>UC04</td><td>Quản lý Kho & Vật tư</td><td>Cho phép</td><td>Admin/Kho quản lý việc cấp phát hóa chất cho KTV và tự động theo dõi tồn kho của từng nhân viên dựa trên các báo cáo sử dụng từ hiện trường.</td></tr>
<tr><td>UC05</td><td>Báo cáo & Thống kê</td><td>Cung cấp cho</td><td>Leader và Admin các công cụ để xem báo cáo tổng hợp, thống kê hiệu suất làm việc (KPI) của KTV, và xuất các dữ liệu báo cáo ra file Excel kèm biểu đồ.</td></tr>
<tr><td>UC06</td><td>Quản lý Người dùng & Xác thực</td><td>Là một chức năng hệ thống, cho phép tất cả các tác nhân (KTV, Leader, CSKH, Admin) đăng nhập, đăng xuất và quản lý tài khoản của mình. Hệ thống đảm bảo phân quyền truy cập phù hợp với vai trò của từng người dùng.</td><td></td></tr>
</table>

<p>Yêu cầu chức năng chi tiết
--------------------------</p>

<p>Trong phần này, nhóm chúng em sẽ đi sâu vào việc đặc tả chi tiết các yêu cầu chức năng đã được xác định ở Chương 2. Mỗi chức năng sẽ được phân tích và mô hình hóa bằng các sơ đồ Use-Case, sơ đồ Tuần tự và sơ đồ Luồng dữ liệu để làm rõ luồng hoạt động và các yêu cầu xử lý của hệ thống.</p>

<h3>Phân hệ Quản lý Vận hành (Dành cho Leader, CSKH)</h3>

<p>Đây là phân hệ dành cho các nhân viên văn phòng, bao gồm các chức năng cốt lõi để quản lý thông tin khách hàng và điều phối công việc cho đội ngũ kỹ thuật viên.</p>

<h4>Chức năng: Quản lý Khách hàng</h4>

<p>Chức năng này cho phép nhân viên Chăm sóc khách hàng (CSKH) thực hiện các nghiệp vụ liên quan đến việc quản lý thông tin khách hàng, đảm bảo dữ liệu luôn được cập nhật chính xác và đầy đủ.</p>

<p>* <strong>Sơ đồ Use-Case:</strong>
<em> </em>*Bảng đặc tả Use-Case:  
  Đặc tả Use-Case: Thêm mới Khách hàng<em></em></p>

<table>
<tr><th><strong>Mục</strong></th><th><strong>Mô tả</strong></th></tr>
<tr><td><strong>Use Case ID</strong></td><td>UC1.1</td></tr>
<tr><td><strong>Tên Use-Case</strong></td><td>Thêm mới Khách hàng</td></tr>
<tr><td><strong>Mô tả</strong></td><td>Cho phép CSKH nhập thông tin của một khách hàng mới vào hệ thống, bao gồm các thông tin cơ bản, thông tin liên hệ và thông tin xuất hóa đơn.</td></tr>
<tr><td><strong>Tác nhân (Actor)</strong></td><td>CSKH</td></tr>
<tr><td><strong>Điều kiện trước (Pre-conditions)</strong></td><td>- Tác nhân CSKH phải đăng nhập thành công vào hệ thống với đúng quyền hạn.</td></tr>
<tr><td><strong>Điều kiện sau (Post-conditions)</strong></td><td>- Thông tin khách hàng mới được lưu trữ thành công vào cơ sở dữ liệu.  - Hệ thống sẵn sàng cho các giao dịch tiếp theo.</td></tr>
<tr><td><strong>Luồng sự kiện chính (Basic Flow)</strong></td><td>1. CSKH chọn chức năng "Quản lý Khách hàng" từ thanh điều hướng, sau đó nhấn vào nút "Thêm mới".  2. Hệ thống hiển thị giao diện biểu mẫu (form) "Thêm mới Khách hàng".  3. CSKH nhập đầy đủ thông tin vào các trường bắt buộc: Tên khách hàng, Mã khách hàng (Mã số thuế), Địa chỉ, SĐT liên hệ, Email.  4. CSKH nhấn nút "Lưu".  5. Hệ thống kiểm tra tính hợp lệ của dữ liệu (ví dụ: định dạng email, SĐT, các trường bắt buộc không được để trống).  6. Hệ thống ghi nhận thông tin khách hàng mới vào CSDL Khách hàng.  7. Hệ thống hiển thị thông báo "Thêm khách hàng thành công" và làm mới lại danh sách khách hàng.</td></tr>
<tr><td><strong>Luồng rẽ nhánh (Alternative Flow)</strong></td><td>5a. Nếu dữ liệu nhập vào không hợp lệ:  1. Hệ thống sẽ hiển thị thông báo lỗi tương ứng với từng trường dữ liệu không hợp lệ.  2. Use-case quay trở lại bước 3.</td></tr>
<tr><td><strong>Ngoại lệ (Exceptions)</strong></td><td>6a. Nếu quá trình lưu vào cơ sở dữ liệu thất bại (ví dụ: mất kết nối), hệ thống sẽ hiển thị thông báo "Đã có lỗi xảy ra, không thể lưu thông tin. Vui lòng thử lại".</td></tr>
</table>

<h4>Chức năng: Lập kế hoạch và Phân công công việc</h4>

<p>Đây là chức năng chính dành cho Leader, cho phép tạo và sắp xếp lịch làm việc, cũng như phân công công việc cụ thể cho từng Kỹ thuật viên (KTV).</p>

<p>* <strong>Sơ đồ Use-Case:</strong>
<em> </em>*Bảng đặc tả Use-Case:  
  Đặc tả Use-Case: Tạo và Phân công Công việc<em></em></p>

<table>
<tr><th><strong>Mục</strong></th><th><strong>Mô tả</strong></th></tr>
<tr><td><strong>Use Case ID</strong></td><td>UC1.2</td></tr>
<tr><td><strong>Tên Use-Case</strong></td><td>Tạo và Phân công Công việc</td></tr>
<tr><td><strong>Mô tả</strong></td><td>Cho phép Leader tạo một lịch làm việc mới (định kỳ hoặc đột xuất), điền các thông tin chi tiết về công việc và chỉ định KTV chịu trách nhiệm thực hiện.</td></tr>
<tr><td><strong>Tác nhân (Actor)</strong></td><td>Leader/Quản lý</td></tr>
<tr><td><strong>Điều kiện trước (Pre-conditions)</strong></td><td>- Leader phải đăng nhập thành công vào hệ thống. <br> - Thông tin của Khách hàng và KTV cần phân công đã tồn tại trong hệ thống.</td></tr>
<tr><td><strong>Điều kiện sau (Post-conditions)</strong></td><td>- Một công việc mới được tạo và lưu vào CSDL Lịch làm việc với trạng thái ban đầu là "Chưa xác nhận". <br> - KTV được phân công sẽ nhận được thông báo về công việc mới.</td></tr>
<tr><td><strong>Luồng sự kiện chính (Basic Flow)</strong></td><td>1. Leader chọn chức năng "Lập kế hoạch" và nhấn nút "Tạo công việc mới".  2. Hệ thống hiển thị giao diện form "Tạo công việc".  3. Leader chọn khách hàng từ danh sách thả xuống (danh sách được tải từ CSDL Khách hàng).  4. Leader nhập các thông tin công việc: Ngày giờ thực hiện, Nội dung công việc, Yêu cầu/lưu ý khác.  5. Leader chọn một hoặc nhiều KTV từ danh sách để thực hiện công việc.  6. Leader nhấn nút "Giao việc".  7. Hệ thống kiểm tra dữ liệu hợp lệ.  8. Hệ thống lưu thông tin công việc mới vào CSDL Lịch làm việc.  9. Hệ thống hiển thị thông báo "Giao việc thành công".</td></tr>
</table>

<p>* <strong>Sơ đồ Tuần tự (Sequence Diagram):</strong>Sơ đồ dưới đây mô tả chi tiết các bước và sự tương tác giữa các đối tượng trong hệ thống khi Leader thực hiện chức năng tạo và phân công một công việc mới.
<em> </em>*Sơ đồ Luồng Dữ liệu (DFD):  
  DFD cho Leader giao việc<em></em>Sơ đồ này mô tả luồng di chuyển của dữ liệu khi Leader sử dụng hệ thống để tạo và phân công một công việc mới cho KTV.  
  <strong>Mô tả các luồng dữ liệu:</strong>
  + <strong>D1 (Thông tin yêu cầu lập kế hoạch):</strong> Dữ liệu do Leader nhập vào, bao gồm việc chọn khách hàng, thời gian, nội dung công việc và KTV thực hiện.
  + <strong>D2 (Kết quả lập kế hoạch):</strong> Là thông báo thành công hoặc thất bại được hệ thống trả về cho Leader sau khi xử lý, đồng thời cập nhật lại giao diện lịch làm việc tổng quan7.
  + <strong>D3 (Dữ liệu đọc từ CSDL):</strong> Dữ liệu được khối xử lý đọc từ các kho dữ liệu để hỗ trợ Leader, bao gồm danh sách khách hàng từ CSDL Khách hàng và danh sách KTV từ CSDL Nhân viên8.
  + <strong>D4 (Dữ liệu ghi vào CSDL):</strong> Là thông tin công việc hoàn chỉnh sau khi Leader nhấn "Lưu", được ghi vào CSDL Lịch làm việc9.
* <strong>Thuật giải xử lý:</strong>Khi Leader thực hiện chức năng lập kế hoạch, khối xử lý "Lập kế hoạch công việc" sẽ hoạt động theo các bước sau:
  + Nhận yêu cầu và dữ liệu đầu vào (D1) từ Leader.
  + Kết nối cơ sở dữ liệu.
  + Đọc danh sách khách hàng và danh sách nhân viên (D3) từ CSDL để hiển thị trên form cho Leader lựa chọn.
  + Kiểm tra tính hợp lệ của các thông tin trong D1 (ví dụ: ngày giờ không được nằm trong quá khứ, phải chọn ít nhất một KTV).
  + Nếu dữ liệu không hợp lệ, hiển thị thông báo lỗi (D2) và dừng lại.
  + Nếu dữ liệu hợp lệ, tạo một bản ghi công việc mới với trạng thái "Chưa xác nhận".
  + Lưu bản ghi công việc mới này vào CSDL Lịch làm việc (D4).
  + Hiển thị thông báo "Lập kế hoạch thành công" (D2) cho Leader.
  + Đóng kết nối cơ sở dữ liệu.</p>

<h3>Phân hệ Tác nghiệp Kỹ thuật viên (Web App cho KTV)</h3>

<p>Đây là phân hệ được thiết kế tối ưu cho Kỹ thuật viên (KTV) sử dụng trên trình duyệt của thiết bị di động. Mục tiêu của phân hệ này là đơn giản hóa và số hóa toàn bộ quy trình làm việc của KTV tại hiện trường, từ khâu nhận việc cho đến khi hoàn thành và báo cáo công việc.</p>

<h4>Chức năng: Nhận và Thực hiện Công việc</h4>

<p>Đây là cụm chức năng cốt lõi, bao trùm toàn bộ các hoạt động của KTV trong một ngày làm việc.</p>

<p>* <strong>Sơ đồ Use-Case:</strong>Sơ đồ dưới đây thể hiện các hành động chính mà một KTV có thể thực hiện trên hệ thống.
<em> </em>*Bảng đặc tả Use-Case:  
  Đặc tả Use-Case: Thực hiện Check-in/out và Báo cáo Công việc<em></em></p>

<table>
<tr><th><strong>Mục</strong></th><th><strong>Mô tả</strong></th></tr>
<tr><td><strong>Use Case ID</strong></td><td>UC2.1</td></tr>
<tr><td><strong>Tên Use-Case</strong></td><td>Thực hiện Check-in/out và Báo cáo Công việc</td></tr>
<tr><td><strong>Mô tả</strong></td><td>Cho phép KTV ghi nhận thời gian, vị trí bắt đầu và kết thúc công việc một cách chính xác. Đồng thời, KTV có thể cập nhật chi tiết báo cáo tại hiện trường, bao gồm ghi chú, hình ảnh và vật tư đã sử dụng.</td></tr>
<tr><td><strong>Tác nhân (Actor)</strong></td><td>Kỹ thuật viên (KTV), Thiết bị di động (cung cấp GPS, Camera)</td></tr>
<tr><td><strong>Điều kiện trước (Pre-conditions)</strong></td><td>- KTV đã đăng nhập thành công vào hệ thống. <br> - KTV đã nhận và xác nhận công việc cần thực hiện. <br> - Thiết bị di động của KTV có kết nối internet và đã bật dịch vụ định vị GPS.</td></tr>
<tr><td><strong>Điều kiện sau (Post-conditions)</strong></td><td>- Trạng thái công việc được cập nhật thành "Hoàn thành". <br> - Thời gian, vị trí check-in/out và toàn bộ nội dung báo cáo (ghi chú, hình ảnh, vật tư) được lưu trữ thành công vào cơ sở dữ liệu.</td></tr>
<tr><td><strong>Luồng sự kiện chính (Basic Flow)</strong></td><td>1. KTV chọn một công việc đã xác nhận từ danh sách lịch làm việc.  2. Tại địa điểm của khách hàng, KTV nhấn nút "Check-in".  3. Hệ thống tự động ghi nhận thời gian hiện tại và tọa độ GPS từ thiết bị di động, sau đó lưu vào CSDL Báo cáo công việc1.  4. KTV tiến hành thực hiện công việc chuyên môn.  5. KTV mở mục báo cáo của công việc, nhập các thông tin: điền checklist, ghi chú, chụp và tải lên hình ảnh hiện trường, cập nhật số lượng hóa chất đã sử dụng.  6. Sau khi hoàn thành công việc và báo cáo, KTV nhấn nút "Check-out".  7. Hệ thống tự động ghi nhận thời gian kết thúc và tọa độ GPS, sau đó lưu lại3.  8. Hệ thống cập nhật trạng thái công việc thành "Hoàn thành" và lưu toàn bộ dữ liệu báo cáo.  9. Hệ thống hiển thị thông báo "Đã check-out và gửi báo cáo thành công".</td></tr>
<tr><td><strong>Ngoại lệ (Exceptions)</strong></td><td>3a. Nếu thiết bị không bắt được tín hiệu GPS, hệ thống sẽ thông báo cho KTV.  8a. Nếu mất kết nối internet khi gửi báo cáo, hệ thống sẽ lưu tạm dữ liệu trên thiết bị và tự động đồng bộ lại khi có kết nối.</td></tr>
</table>

<p>* <strong>Sơ đồ Tuần tự (Sequence Diagram):</strong>Sơ đồ này mô tả luồng tương tác chi tiết từ khi KTV bắt đầu check-in, cập nhật báo cáo cho đến khi check-out.
<em> </em>*Sơ đồ Luồng Dữ liệu (DFD):  
  DFD cho KTV Xác nhận và cập nhật báo cáo công việc<em></em>Sơ đồ mô tả luồng dữ liệu của KTV từ khi nhận việc, thực thi cho đến khi hoàn tất và cập nhật các báo cáo liên quan.  
  <strong>Giải thích các luồng dữ liệu:</strong>
  + <strong>D1 (Lịch làm việc được giao):</strong> Thông tin công việc từ hệ thống quản lý gửi xuống cho KTV4.
  + <strong>D2 (Yêu cầu xác nhận):</strong> Hành động KTV nhấn nút "Xác nhận" sau khi xem lịch5.
  + <strong>D3 (Cập nhật trạng thái "Đã xác nhận"):</strong> Luồng dữ liệu ghi vào CSDL Lịch làm việc để thay đổi trạng thái của công việc.
  + <strong>D4 (Yêu cầu Check-in/Check-out):</strong> Hành động KTV nhấn nút "Check-in" hoặc "Check-out" trên giao diện.
  + <strong>D5 (Dữ liệu GPS & Thời gian):</strong> Dữ liệu do thiết bị di động tự động cung cấp cho khối xử lý, bao gồm tọa độ và thời gian hệ thống.
  + <strong>D6 (Ghi nhận thời gian & vị trí):</strong> Thông tin check-in/out được lưu vào CSDL Báo cáo công việc.
  + <strong>D7 (Dữ liệu báo cáo):</strong> Dữ liệu văn bản do KTV nhập vào, bao gồm ghi chú, checklist, và số lượng vật tư sử dụng.
  + <strong>D8 (Hình ảnh hiện trường):</strong> Dữ liệu hình ảnh do KTV chụp và tải lên từ camera của thiết bị8.
  + <strong>D9 (Lưu dữ liệu báo cáo):</strong> Toàn bộ thông tin báo cáo từ D7 và D8 được ghi vào CSDL Báo cáo công việc.
  + <strong>D10 (Cập nhật vật tư đã dùng):</strong> Số lượng vật tư sử dụng được ghi vào CSDL Kho vật tư để tính toán lại lượng tồn kho của KTV9.
* <strong>Thuật giải xử lý:</strong>
  + Hệ thống hiển thị danh sách công việc được giao cho KTV (D1).
  + Khi KTV nhấn "Xác nhận" (D2), hệ thống sẽ cập nhật trạng thái công việc trong CSDL Lịch làm việc (D3).
  + Khi KTV nhấn "Check-in" (D4), khối xử lý "Thực hiện Check-in/out" sẽ:
    - Lấy dữ liệu thời gian và GPS từ thiết bị (D5).
    - Lưu thông tin này vào CSDL Báo cáo công việc (D6).
  + Khi KTV nhập thông tin và tải ảnh (D7, D8), khối xử lý "Cập nhật Báo cáo Hiện trường" sẽ:
    - Tiếp nhận và lưu trữ tạm thời dữ liệu.
  + Khi KTV nhấn "Check-out" (D4), khối xử lý "Thực hiện Check-in/out" lặp lại bước 3 để ghi nhận thời gian và vị trí kết thúc.
  + Đồng thời, khối xử lý "Cập nhật Báo cáo Hiện trường" sẽ:
    - Ghi toàn bộ dữ liệu báo cáo (ghi chú, hình ảnh) vào CSDL Báo cáo công việc (D9).
    - Cập nhật số lượng vật tư đã sử dụng vào CSDL Kho vật tư (D10).
  + Hệ thống thay đổi trạng thái công việc thành "Hoàn thành" trong CSDL Lịch làm việc.
  + Kết thúc và thông báo cho KTV.</p>

<h3>Phân hệ Quản trị và Báo cáo (Dành cho Admin, Leader)</h3>

<p>Phân hệ này cung cấp các công cụ mạnh mẽ cho cấp quản lý để theo dõi, đo lường và tối ưu hóa hoạt động của công ty. Các chức năng tập trung vào việc quản lý tài nguyên (vật tư), chi phí (công tác phí) và hiệu suất công việc (báo cáo, KPI).</p>

<h4>Chức năng: Quản lý Kho Vật tư</h4>

<p>Chức năng này cho phép Admin hoặc bộ phận Kho quản lý và theo dõi số lượng hóa chất, vật tư được cấp phát cho từng KTV, đảm bảo tính minh bạch và tránh thất thoát.</p>

<p>* <strong>Sơ đồ Use-Case:</strong>
<em> </em>*Bảng đặc tả Use-Case:  
  Đặc tả Use-Case: Cập nhật Tồn kho KTV<em></em></p>

<table>
<tr><th><strong>Mục</strong></th><th><strong>Mô tả</strong></th></tr>
<tr><td><strong>Use Case ID</strong></td><td>UC3.1</td></tr>
<tr><td><strong>Tên Use-Case</strong></td><td>Cập nhật Tồn kho KTV</td></tr>
<tr><td><strong>Mô tả</strong></td><td>Cho phép Admin/Kho thực hiện các thao tác nhập (cấp phát) hoặc xuất (thu hồi, điều chỉnh) vật tư cho một KTV cụ thể. Hệ thống sẽ tự động tính toán lại số lượng tồn kho của KTV đó.</td></tr>
<tr><td><strong>Tác nhân (Actor)</strong></td><td>Admin/Kho</td></tr>
<tr><td><strong>Điều kiện trước (Pre-conditions)</strong></td><td>- Admin/Kho phải đăng nhập thành công vào hệ thống. 1</td></tr>
<tr><td><strong>Điều kiện sau (Post-conditions)</strong></td><td>- Số lượng tồn kho của vật tư tương ứng với KTV được chọn đã được cập nhật trong cơ sở dữ liệu.</td></tr>
<tr><td><strong>Luồng sự kiện chính (Basic Flow)</strong></td><td>1. Admin/Kho chọn chức năng "Quản lý Kho". 2  2. Hệ thống hiển thị danh sách các KTV. Admin/Kho chọn một KTV để xem tồn kho.  3. Admin/Kho chọn thao tác "Nhập kho" (cấp phát thêm).  4. Admin/Kho chọn loại vật tư từ danh sách và nhập vào số lượng cấp phát.  5. Admin/Kho nhấn nút "Lưu".  6. Hệ thống thực hiện phép tính: Tồn kho mới = Tồn kho hiện tại + Số lượng nhập.  7. Hệ thống cập nhật lại số lượng tồn kho mới vào CSDL Kho vật tư.  8. Hệ thống hiển thị thông báo "Cập nhật kho thành công" và làm mới giao diện.</td></tr>
</table>

<em> </em>*Sơ đồ Luồng Dữ liệu (DFD):  
  DFD cho chức năng "Quản lý Kho"  
  Giải thích các luồng dữ liệu:<em></em>
  + <strong>D1 (Thông tin nhập/xuất kho):</strong> Dữ liệu do Admin/Kho nhập vào, bao gồm việc chọn KTV, loại vật tư và số lượng cần cập nhật. 4
  + <strong>D2 (Kết quả cập nhật kho):</strong> Thông báo thành công và dữ liệu tồn kho được làm mới trên giao diện của Admin/Kho. 5
  + <strong>D3 (Dữ liệu vật tư đã sử dụng):</strong> Dữ liệu tham khảo được đọc từ CSDL Báo cáo công việc để đối chiếu. 6
  + <strong>D4 (Ghi nhận thay đổi tồn kho):</strong> Dữ liệu tồn kho mới được tính toán và ghi vào CSDL Kho vật tư. 7
  + <strong>D5 (Thông tin KTV):</strong> Danh sách KTV được đọc từ CSDL Nhân viên để Admin/Kho lựa chọn. 8
* <strong>Thuật giải xử lý:</strong>
  + Nhận yêu cầu (D1) từ Admin/Kho.
  + Đọc danh sách KTV (D5) từ CSDL Nhân viên.
  + Khi Admin/Kho chọn một KTV, đọc thông tin tồn kho hiện tại và lịch sử sử dụng (D3) của KTV đó.
  + Thực hiện tính toán dựa trên thao tác của Admin (cộng hoặc trừ số lượng).
  + Cập nhật số lượng tồn kho mới vào CSDL Kho vật tư (D4).
  + Trả về kết quả và làm mới giao diện (D2).
    1. <strong>Chức năng: Quản lý Công tác phí</strong>

<p>Chức năng này tự động hóa việc tính toán chi phí đi lại và thời gian làm việc của KTV, giúp giảm thiểu sai sót và tiết kiệm thời gian cho bộ phận hành chính.</p>

<p>* <strong>Sơ đồ Use-Case:</strong>
<em> </em>*Bảng đặc tả Use-Case:  
  Đặc tả Use-Case: Tính toán Công tác phí<em></em></p>

<table>
<tr><th><strong>Mục</strong></th><th><strong>Mô tả</strong></th></tr>
<tr><td><strong>Use Case ID</strong></td><td>UC3.2</td></tr>
<tr><td><strong>Tên Use-Case</strong></td><td>Tính toán Công tác phí</td></tr>
<tr><td><strong>Mô tả</strong></td><td>Cho phép Admin chọn một KTV và một khoảng thời gian để hệ thống tự động tổng hợp và tính toán quãng đường di chuyển, tổng thời gian làm việc, thời gian tăng ca và các chi phí liên quan.</td></tr>
<tr><td><strong>Tác nhân (Actor)</strong></td><td>Admin</td></tr>
<tr><td><strong>Điều kiện trước (Pre-conditions)</strong></td><td>- Admin đã đăng nhập thành công. 9<br> - Đã có dữ liệu check-in/out kèm tọa độ GPS của KTV trong CSDL Báo cáo công việc. 10</td></tr>
<tr><td><strong>Điều kiện sau (Post-conditions)</strong></td><td>- Bảng kê chi tiết công tác phí được hiển thị trên giao diện.</td></tr>
<tr><td><strong>Luồng sự kiện chính (Basic Flow)</strong></td><td>1. Admin chọn chức năng "Quản lý Công tác phí".  2. Admin chọn KTV và khoảng thời gian (từ ngày... đến ngày...) cần tính.  3. Admin nhấn nút "Tính toán".  4. Hệ thống truy vấn toàn bộ bản ghi công việc của KTV đó trong khoảng thời gian đã chọn.  5. Dựa vào tọa độ GPS của các lần check-in/out, hệ thống tính tổng quãng đường di chuyển (km).  6. Dựa vào thời gian check-in/out, hệ thống tính tổng thời gian làm việc và thời gian tăng ca (nếu có).  7. Hệ thống hiển thị bảng kê chi tiết kết quả.</td></tr>
</table>

<em> </em>*Sơ đồ Luồng Dữ liệu (DFD):  
  DFD cho chức năng "Quản lý Công tác phí"  
  Giải thích các luồng dữ liệu:<em></em>
  + <strong>D1 (Yêu cầu tính công tác phí):</strong> Dữ liệu đầu vào từ Admin, bao gồm mã KTV và khoảng thời gian. 14
  + <strong>D2 (Bảng kê công tác phí chi tiết):</strong> Kết quả tính toán được hiển thị chi tiết trên giao diện cho Admin.
  + <strong>D3 (Dữ liệu công việc):</strong> Dữ liệu thô (thời gian, tọa độ GPS) được đọc từ CSDL Báo cáo công việc để phục vụ cho việc tính toán.
* <strong>Thuật giải xử lý:</strong>
  + Nhận yêu cầu (D1) từ Admin.
  + Truy vấn CSDL Báo cáo công việc để lấy tất cả các bản ghi phù hợp với mã KTV và khoảng thời gian (D3).
  + Sắp xếp các bản ghi theo thứ tự thời gian.
  + Lặp qua từng cặp công việc liên tiếp để tính quãng đường di chuyển giữa chúng bằng tọa độ GPS.
  + Tính tổng quãng đường và tổng thời gian làm việc (thời gian check-out trừ thời gian check-in).
  + Áp dụng các quy tắc về giờ hành chính để xác định thời gian tăng ca.
  + Tổng hợp kết quả và hiển thị ra giao diện (D2).
    1. <strong>Chức năng: Báo cáo và Thống kê (KPI)</strong>

<p>Chức năng này cung cấp một cái nhìn tổng quan về hiệu suất làm việc của KTV và tình hình hoạt động của công ty, hỗ trợ việc ra quyết định của cấp quản lý.</p>

<p>* <strong>Sơ đồ Use-Case:</strong>
<em> </em>*Bảng đặc tả Use-Case:  
  Đặc tả Use-Case: Xem báo cáo và Thống kê KPI<em></em></p>

<table>
<tr><th><strong>Mục</strong></th><th><strong>Mô tả</strong></th></tr>
<tr><td><strong>Use Case ID</strong></td><td>UC3.3</td></tr>
<tr><td><strong>Tên Use-Case</strong></td><td>Xem báo cáo và Thống kê KPI</td></tr>
<tr><td><strong>Mô tả</strong></td><td>Cho phép Leader/Admin xem các báo cáo hiệu suất của KTV dưới dạng bảng biểu và biểu đồ, cũng như xuất các báo cáo này ra file Excel để lưu trữ hoặc phân tích sâu hơn.</td></tr>
<tr><td><strong>Tác nhân (Actor)</strong></td><td>Leader/Admin</td></tr>
<tr><td><strong>Điều kiện trước (Pre-conditions)</strong></td><td>- Leader/Admin đã đăng nhập thành công.  - Hệ thống đã có dữ liệu về các công việc đã hoàn thành.</td></tr>
<tr><td><strong>Điều kiện sau (Post-conditions)</strong></td><td>- Báo cáo được hiển thị trên giao diện hoặc được tải về dưới dạng file Excel.</td></tr>
<tr><td><strong>Luồng sự kiện chính (Basic Flow)</strong></td><td>1. Leader/Admin chọn mục "Báo cáo & Thống kê".  2. Leader/Admin chọn loại báo cáo (ví dụ: "KPI theo KTV") và bộ lọc (ví dụ: theo tháng).  3. Leader/Admin nhấn nút "Xem báo cáo".  4. Hệ thống tổng hợp dữ liệu từ CSDL Báo cáo công việc và CSDL Nhân viên.  5. Hệ thống hiển thị kết quả dưới dạng bảng biểu và biểu đồ (ví dụ: số job hoàn thành, mức độ hoàn thành).  6. Leader/Admin nhấn nút "Xuất Excel".  7. Hệ thống tạo file Excel chứa dữ liệu báo cáo và cho phép người dùng tải về.</td></tr>
</table>

<em> </em>*Sơ đồ Luồng Dữ liệu (DFD):  
  DFD cho chức năng "Báo cáo và Thống kê"  
  Giải thích các luồng dữ liệu:<em></em>
  + <strong>D1 (Yêu cầu báo cáo):</strong> Lựa chọn của Leader/Admin về loại báo cáo và các bộ lọc. 21
  + <strong>D3 (Dữ liệu thô từ CSDL):</strong> Dữ liệu công việc và nhân viên được tổng hợp từ CSDL Báo cáo công việc và CSDL Nhân viên. 22
  + <strong>D5 (Xuất file Excel):</strong> Dữ liệu báo cáo đã được định dạng và gửi đến trình duyệt của người dùng để tải về. 23
  + <strong>D6 (Hiển thị báo cáo và biểu đồ):</strong> Dữ liệu thống kê được định dạng và hiển thị trực quan trên giao diện web. 24
* <strong>Thuật giải xử lý:</strong>
  + Nhận yêu cầu (D1) từ Leader/Admin.
  + Dựa vào yêu cầu, truy vấn và tổng hợp dữ liệu từ các CSDL liên quan (D3).
  + Thực hiện các phép tính thống kê cần thiết (đếm, tính trung bình, v.v.).
  + Định dạng dữ liệu để hiển thị trên giao diện dưới dạng bảng và biểu đồ (D6).
  + Nếu có yêu cầu xuất file, định dạng dữ liệu theo cấu trúc file Excel và gửi đến trình duyệt (D5).

<p>Yêu cầu Phi chức năng
---------------------</p>

<p>Ngoài các yêu cầu về chức năng (hệ thống làm gì), các yêu cầu phi chức năng định nghĩa các tiêu chí về chất lượng và ràng buộc về cách thức hệ thống hoạt động (hệ thống hoạt động như thế nào). Đây là những yếu tố quan trọng quyết định đến trải nghiệm người dùng, hiệu suất và sự thành công của phần mềm. Dựa trên kết quả khảo sát tại Chương 2, nhóm chúng em xác định các yêu cầu phi chức năng cốt lõi cho hệ thống như sau:</p>

<h3>Tính tiện dụng (Usability)</h3>

<p>* <strong>Yêu cầu:</strong> Giao diện phần mềm phải dễ nhìn, thân thiện, thao tác đơn giản và ít bước. Hệ thống cần hỗ trợ chức năng nhập liệu bằng giọng nói để thuận tiện cho KTV khi đang làm việc tại hiện trường.
* <strong>Chi tiết hóa:</strong>
  + <strong>Đối với KTV:</strong> Giao diện trên web mobile phải được thiết kế với các nút bấm lớn, quy trình tác nghiệp rõ ràng (ví dụ: Check-in -> Báo cáo -> Check-out) để có thể thao tác nhanh chóng, ngay cả khi đang đeo găng tay hoặc trong điều kiện làm việc khó khăn.
  + <strong>Đối với Quản lý/Admin:</strong> Giao diện trên desktop cần trình bày dữ liệu một cách khoa học, có dashboard tổng quan và cho phép truy cập nhanh đến các chức năng quản lý chính.
  + <strong>Nhập liệu giọng nói:</strong> Chức năng này sẽ được tích hợp vào các ô nhập văn bản (ghi chú, mô tả hiện trạng) để KTV có thể đọc và hệ thống tự động chuyển thành chữ, giảm thiểu việc gõ phím trên điện thoại.</p>

<h3>Tính hiệu quả (Performance/Efficiency)</h3>

<p>* <strong>Yêu cầu:</strong> Hệ thống phải xử lý nhanh, nhẹ, đặc biệt là chức năng tải lên hình ảnh và dữ liệu từ KTV.
* <strong>Chi tiết hóa:</strong>
  + <strong>Tối ưu hóa hình ảnh:</strong> Hình ảnh do KTV chụp tại hiện trường sẽ được tự động nén ở phía client (trên trình duyệt của KTV) trước khi tải lên server. Điều này giúp giảm đáng kể dung lượng dữ liệu cần truyền tải, đảm bảo việc tải ảnh diễn ra nhanh chóng ngay cả khi kết nối mạng (3G/4G) yếu.
  + <strong>Tốc độ phản hồi:</strong> Các API của hệ thống phải được tối ưu để phản hồi các yêu cầu từ người dùng trong thời gian ngắn (dưới 2 giây cho các tác vụ thông thường), tránh tình trạng giật, lag gây khó chịu cho người dùng.</p>

<h3>Tính tương thích (Compatibility)</h3>

<p>* <strong>Yêu cầu:</strong> Hệ thống phải có khả năng xuất dữ liệu (kế hoạch, báo cáo) ra định dạng file Excel.
* <strong>Chi tiết hóa:</strong>
  + Các chức năng như "Lập kế hoạch", "Báo cáo KPI", "Báo cáo tồn kho" và các checklist công việc phải có nút "Xuất Excel".
  + File Excel được xuất ra phải có định dạng chuẩn, cấu trúc rõ ràng, đúng với các biểu mẫu nghiệp vụ của công ty để người dùng có thể dễ dàng đọc, lưu trữ hoặc thực hiện các phân tích dữ liệu khác.</p>

<h3>Tính bảo mật (Security)</h3>

<p>* <strong>Yêu cầu:</strong> Cần có cơ chế phân quyền người dùng rõ ràng (Admin, Leader, CSKH, KTV).
* <strong>Chi tiết hóa:</strong>
  + Hệ thống sẽ áp dụng mô hình <strong>Kiểm soát Truy cập Dựa trên Vai trò (Role-Based Access Control - RBAC)</strong>.
  + Mỗi tài khoản người dùng sẽ được gán một vai trò duy nhất.
  + Hệ thống sẽ kiểm tra quyền hạn của người dùng trước khi cho phép thực hiện bất kỳ hành động nào. Ví dụ: KTV chỉ có thể xem và báo cáo công việc của mình, không thể xem công việc của người khác hoặc truy cập các chức năng quản lý; Leader có thể xem công việc của tất cả KTV trong nhóm của mình nhưng không thể truy cập các chức năng của Admin.</p>

<h3>Độ tin cậy</h3>

<p>* <strong>Yêu cầu:</strong> Dữ liệu về thời gian (check-in/out), vị trí, quãng đường phải được ghi nhận một cách chính xác.
* <strong>Chi tiết hóa:</strong>
  + <strong>Thời gian:</strong> Tất cả các mốc thời gian check-in/out sẽ được ghi nhận dựa trên thời gian của máy chủ (server time) thay vì thời gian trên thiết bị của KTV để đảm bảo tính khách quan và chống gian lận.
  + <strong>Vị trí:</strong> Hệ thống sẽ sử dụng dịch vụ định vị GPS của thiết bị di động để ghi lại tọa độ chính xác tại thời điểm check-in và check-out, làm bằng chứng xác thực địa điểm làm việc.
  + <strong>Tính toán quãng đường:</strong> Quãng đường di chuyển sẽ được hệ thống tự động tính toán dựa trên tọa độ GPS của các địa điểm làm việc, đảm bảo kết quả chính xác và nhất quán để phục vụ việc tính công tác phí.</p>

<p>CHƯƠNG 4: THIẾT KẾ DỮ LIỆU
==========================</p>

<p>Giới thiệu
----------</p>

<p>Chương 4 đi sâu vào giai đoạn <strong>Thiết kế Dữ liệu</strong>, một trong những giai đoạn nền tảng và quan trọng nhất trong quy trình phát triển phần mềm. Đây là bước chuyển đổi các yêu cầu nghiệp vụ đã được phân tích ở chương trước thành một cấu trúc lưu trữ logic, có tổ chức.</p>

<strong>Mục tiêu</strong> chính của chương này là nhằm mô tả cách thức tổ chức và lưu trữ dữ liệu của phần mềm "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng" bên trong máy tính một cách khoa học và có hệ thống.

<strong>Kết quả</strong> của giai đoạn này là xây dựng một <strong>Sơ đồ Logic</strong> hoàn chỉnh, thể hiện toàn bộ các bảng dữ liệu và mối quan hệ logic giữa chúng, làm cơ sở vững chắc cho việc cài đặt và phát triển các chức năng ở các chương sau.

<p>Để đảm bảo cơ sở dữ liệu không chỉ đáp ứng được các yêu cầu hiện tại mà còn có khả năng phát triển trong tương lai, nhóm chúng em đã tuân thủ nghiêm ngặt ba nguyên tắc cốt lõi trong suốt quá trình thiết kế:</p>

<p>* <strong>Thiết kế dữ liệu với tính đúng đắn:</strong> Đảm bảo rằng mô hình dữ liệu phản ánh đầy đủ và chính xác tất cả các nghiệp vụ đã được khảo sát ở Chương 2, từ thông tin khách hàng, lịch làm việc cho đến báo cáo hiện trường và vật tư sử dụng. Mọi dữ liệu cần thiết cho việc vận hành phần mềm đều phải được lưu trữ một cách hợp lý.
* <strong>Thiết kế dữ liệu với tính tiến hóa:</strong> Xây dựng một cấu trúc dữ liệu linh hoạt, cho phép hệ thống có thể dễ dàng mở rộng và thêm các tính năng mới trong tương lai (ví dụ: thêm các loại báo cáo mới, quản lý hợp đồng chi tiết hơn) mà không cần phải thay đổi lại toàn bộ cấu trúc cơ sở dữ liệu.
* <strong>Thiết kế dữ liệu với tính hiệu quả:</strong> Tối ưu hóa cấu trúc các bảng và các mối quan hệ nhằm đảm bảo tốc độ truy xuất dữ liệu nhanh chóng và sử dụng không gian lưu trữ một cách hợp lý. Điều này đặc biệt quan trọng khi hệ thống phải xử lý lượng lớn dữ liệu báo cáo và hình ảnh từ các Kỹ thuật viên tại hiện trường.</p>

<p>Thuật toán Thiết kế Dữ liệu
---------------------------</p>

<p>Trong phần này, nhóm chúng em áp dụng phương pháp thiết kế lặp theo từng yêu cầu phần mềm. Bằng cách xét tuần tự từng nghiệp vụ chính đã khảo sát ở Chương 2, cơ sở dữ liệu sẽ được xây dựng và hoàn thiện dần qua từng bước, đảm bảo tính chặt chẽ và logic.</p>

<h3>Xét Yêu cầu 1: Quản lý Khách hàng & Lên kế hoạch công việc</h3>

<p>Đây là bước khởi đầu, tập trung vào các chức năng cốt lõi là quản lý thông tin khách hàng và giao việc cho kỹ thuật viên (KTV).</p>

<p>* <strong>Thiết kế với tính đúng đắn</strong></p>

<p>Mục tiêu của bước này là đảm bảo mô hình dữ liệu ban đầu có thể lưu trữ đầy đủ và chính xác các thông tin cần thiết để thực hiện nghiệp vụ giao việc.</p>

<p>* <strong>Biểu mẫu và Sơ đồ luồng dữ liệu liên quan:</strong>
  + Biểu mẫu liên quan:  
     BM01-ThongTinKhachHang, BM02-PhieuGiaoViec.
  + Sơ đồ luồng dữ liệu (SĐLĐ) liên quan:  
     DFD cho Leader giao việc.
* Các thuộc tính mới xác định được:  
  Từ các biểu mẫu và SĐLĐ trên, nhóm đã xác định được các thuộc tính thông tin cơ bản cần lưu trữ, bao gồm:  
   MaKH, TenKH, DiaChi, SDT, Email, MaCongViec, NgayThucHien, NoiDungCV, MaKTV.
* Thiết kế dữ liệu (Bố trí thuộc tính):  
  Dựa trên các thuộc tính đã xác định, nhóm đề xuất phân rã và bố trí chúng vào 3 bảng dữ liệu ban đầu để tránh trùng lặp và đảm bảo tính nhất quán5:
  + <strong>Bảng KHACHHANG</strong>: Lưu trữ thông tin riêng của khách hàng.
    - <em>(MaKH, TenKH, DiaChi, SDT, Email...)</em>
  + <strong>Bảng NHANVIEN</strong>: Lưu trữ thông tin của nhân viên (bao gồm KTV, Leader...).
    - <em>(MaNV, HoTen, ChucVu...)</em>
  + <strong>Bảng CONGVIEC</strong>: Lưu trữ thông tin về một lần giao việc cụ thể, liên kết giữa khách hàng và nhân viên.
    - <em>(MaCongViec, NgayThucHien, NoiDung, MaKH, MaNV...)</em>
* Các thuộc tính trừu tượng:  
  Để đảm bảo mỗi bản ghi trong các bảng là duy nhất và không thay đổi theo thời gian, nhóm quyết định sử dụng các thuộc tính trừu tượng để làm khóa chính. Các thuộc tính này không có trong thế giới thực nhưng cần thiết cho phần mềm6:
  + MaKH cho bảng KHACHHANG.
  + MaNV cho bảng NHANVIEN.
  + MaCongViec cho bảng CONGVIEC.
* <strong>Thiết kế với tính tiến hóa</strong></p>

<p>Bước này nhằm mục đích xây dựng một cấu trúc linh hoạt, sẵn sàng cho những thay đổi hoặc mở rộng về quy định nghiệp vụ trong tương lai.</p>

<p>* <strong>Quy định liên quan và các thuộc tính mới:</strong>
  + Dựa trên khảo sát, có các loại hình dịch vụ khác nhau (định kỳ, 1 lần, SOS) 7 và mỗi công việc cần KTV xác nhận. Do đó, nhóm bổ sung các thuộc tính mới vào bảng
  + CONGVIEC:
    - LoaiHinhDichVu: Để phân loại công việc.
    - TrangThaiXacNhan: Để theo dõi trạng thái công việc (ví dụ: "Chưa xác nhận", "Đã xác nhận").
* <strong>Bảng THAMSO và các tham số mới:</strong>
  + Để đáp ứng yêu cầu hệ thống phải thông báo lịch cho KTV trước một khoảng thời gian nhất định (ví dụ: 2 giờ)8, nhóm nhận thấy rằng con số "2 giờ" này có thể thay đổi trong tương lai. Để hệ thống có "tính tiến hóa", nhóm đề xuất tạo bảng
  + <strong>THAMSO</strong> để lưu trữ các quy định này.
  + Tham số mới được thêm vào là  
     ThoiGianThongBaoTruoc, giúp việc thay đổi quy định chỉ cần cập nhật giá trị trong bảng THAMSO mà không cần sửa đổi mã nguồn9.
* <strong>Sơ đồ Logic (cập nhật lần 1):</strong>
  + Sau khi kết thúc lần xét yêu cầu đầu tiên, sơ đồ logic ban đầu được hình thành. Sơ đồ này bao gồm 4 bảng (KHACHHANG, NHANVIEN, CONGVIEC, THAMSO) cùng với các thuộc tính khóa chính, khóa ngoại và các mối quan hệ 1-n đã được xác định.</p>

<h3>Xét Yêu cầu 2: KTV Thực hiện Công việc tại Hiện trường</h3>

<p>Sau khi đã có nền tảng ban đầu để quản lý khách hàng và công việc, bước lặp thứ hai này tập trung vào việc số hóa quy trình tác nghiệp của Kỹ thuật viên (KTV) tại hiện trường. Đây là một yêu cầu phức tạp, đòi hỏi phải lưu trữ nhiều loại dữ liệu khác nhau như thời gian, vị trí, hình ảnh và báo cáo chi tiết.</p>

<p>* <strong>Thiết kế với tính đúng đắn</strong></p>

<p>Mục tiêu của bước này là xây dựng các cấu trúc bảng cần thiết để ghi nhận lại một cách đầy đủ và chính xác toàn bộ dữ liệu phát sinh trong quá trình KTV thực hiện một công việc.</p>

<p>* <strong>Biểu mẫu và Sơ đồ luồng dữ liệu liên quan:</strong>
  + <strong>Biểu mẫu liên quan:</strong> BM03-BaoCaoCongTac, BM04-ChecklistBay1.
  + <strong>SĐLĐ liên quan:</strong> DFD cho KTV Xác nhận và cập nhật báo cáo công việc.
* Các thuộc tính mới xác định được:  
  Từ các biểu mẫu và luồng dữ liệu, nhóm xác định các thuộc tính mới cần được lưu trữ: ThoiGianCheckIn, ThoiGianCheckOut, ToaDoGPS, GhiChu, HinhAnh, SoLuongVatTuSuDung.
* Thiết kế dữ liệu (Bổ sung bảng mới):  
  Các thuộc tính mới này không thể được thêm trực tiếp vào bảng CONGVIEC vì chúng thuộc về một thực thể riêng biệt là "Báo cáo". Do đó, nhóm đề xuất tạo thêm các bảng mới để quản lý dữ liệu này một cách hiệu quả:
  + <strong>Bảng BAOCAOCONGVIEC</strong>: Đây là bảng trung tâm, dùng để lưu trữ tất cả thông tin tổng hợp của một báo cáo công việc. Mỗi công việc (CONGVIEC) sẽ có một báo cáo tương ứng.
    - <em>(<u>MaBaoCao</u>, MaCongViec, ThoiGianCheckIn, ThoiGianCheckOut, GhiChu...)</em>
  + <strong>Bảng HINHANH\_BAOCAO</strong>: Một báo cáo có thể có nhiều hình ảnh hiện trường. Để xử lý mối quan hệ một-nhiều này, nhóm tạo một bảng riêng để lưu trữ thông tin hình ảnh.
    - <em>(<u>MaHinhAnh</u>, MaBaoCao, DuongDanAnh)</em>
  + <strong>Bảng VATTU\_SUDUNG</strong>: Mối quan hệ giữa Báo cáo và Vật tư là nhiều-nhiều (một báo cáo có thể sử dụng nhiều loại vật tư, và một loại vật tư có thể được dùng trong nhiều báo cáo). Theo nguyên tắc thiết kế dữ liệu, mối quan hệ này được tách thành hai quan hệ một-nhiều bằng cách sử dụng một bảng trung gian.
    - <em>(<u>MaBaoCao</u>, <u>MaVatTu</u>, SoLuong)</em>
* <strong>Thiết kế với tính tiến hóa</strong></p>

<p>Bước này xem xét các quy định nghiệp vụ để đảm bảo cấu trúc dữ liệu có thể dễ dàng thích ứng khi có sự thay đổi hoặc bổ sung trong tương lai.</p>

<p>* <strong>Quy định liên quan:</strong>
  + Trong thực tế, có nhiều loại checklist khác nhau (bẫy keo, bẫy đèn, bẫy chuột...)2. Nếu thiết kế các cột checklist trực tiếp trong bảng
  + BAOCAOCONGVIEC (ví dụ: ChecklistBayKeo1, ChecklistBayKeo2...) sẽ làm cho cấu trúc trở nên cứng nhắc và khó mở rộng khi có thêm loại bẫy mới.
  + Để giải quyết vấn đề này và đảm bảo <strong>tính tiến hóa</strong>, nhóm đề xuất tạo một bảng riêng để quản lý dữ liệu checklist, cho phép một báo cáo có thể chứa nhiều mục checklist thuộc nhiều loại khác nhau.
* <strong>Sơ đồ Logic (cập nhật lần 2):</strong>
  + Sau lần xét yêu cầu thứ hai, Sơ đồ Logic được cập nhật, bổ sung thêm các bảng mới như BAOCAOCONGVIEC, HINHANH\_BAOCAO, VATTU\_SUDUNG và bảng quản lý checklist. Các mối quan hệ khóa ngoại mới cũng được thiết lập: CONGVIEC liên kết với BAOCAOCONGVIEC, và BAOCAOCONGVIEC liên kết với các bảng chi tiết của nó.</p>

<h3>Xét Yêu cầu 3: Quản lý Kho và Công tác phí</h3>

<p>Trong bước lặp cuối cùng của thuật toán thiết kế, nhóm chúng em tập trung vào các nghiệp vụ quản trị nội bộ quan trọng là quản lý vật tư của KTV và tự động hóa việc tính toán công tác phí. Việc thiết kế chính xác các bảng dữ liệu cho yêu cầu này sẽ giúp giảm thiểu sai sót thủ công và tăng tính minh bạch trong quản lý chi phí và tài sản của công ty.</p>

<p>* <strong>Thiết kế với tính đúng đắn</strong></p>

<p>Mục tiêu của bước này là đảm bảo hệ thống có thể lưu trữ và xử lý chính xác dữ liệu liên quan đến tồn kho vật tư của từng nhân viên cũng như các dữ liệu đầu vào để tính toán chi phí công tác.</p>

<p>* <strong>Biểu mẫu và Sơ đồ luồng dữ liệu liên quan:</strong>
  + <strong>Biểu mẫu liên quan</strong>: BM05-BaoCaoKho, BM06-PhieuCongTacPhi.
  + <strong>SĐLĐ liên quan</strong>: DFD cho chức năng "Quản lý Kho", DFD cho chức năng "Quản lý Công tác phí".
* Các thuộc tính mới xác định được:  
  Từ các biểu mẫu và luồng xử lý, các thuộc tính mới cần được đưa vào mô hình dữ liệu bao gồm: MaVatTu, TenVatTu, DonViTinh, SoLuongTon, QuangDuongDiChuyen, ChiPhiDiChuyen, ThoiGianTangCa.
* Thiết kế dữ liệu (Bổ sung bảng mới):  
  Để quản lý các thực thể mới này, nhóm đề xuất bổ sung các bảng sau vào cơ sở dữ liệu:
  + <strong>Bảng VATTU</strong>: Đây là bảng danh mục, dùng để quản lý thông tin chung về tất cả các loại hóa chất, vật tư mà công ty sử dụng.
    - <em>(<u>MaVatTu</u>, TenVatTu, DonViTinh...)</em>
  + <strong>Bảng KHO\_KTV</strong>: Bảng này được thiết kế để giải quyết mối quan hệ nhiều-nhiều giữa Nhân viên và Vật tư, với mục đích quản lý số lượng tồn kho của từng loại vật tư mà mỗi KTV đang giữ.
    - <em>(<u>MaNV</u>, <u>MaVatTu</u>, SoLuongTon)</em>
  + <strong>Bảng CONGTACPHI</strong>: Bảng này dùng để lưu trữ kết quả tính toán công tác phí của mỗi nhân viên theo một kỳ nhất định (ví dụ: theo tháng), giúp cho việc tra cứu và báo cáo sau này.
    - <em>(<u>MaPhieu</u>, MaNV, Thang, TongQuangDuong, TongChiPhi...)</em>
* <strong>Thiết kế với tính tiến hóa</strong></p>

<p>Bước này đảm bảo các quy định liên quan đến chi phí và quản lý có thể được thay đổi một cách linh hoạt mà không cần can thiệp vào mã nguồn của hệ thống.</p>

<p>* <strong>Các tham số mới (Bảng THAMSO):</strong>
  + Các quy tắc nghiệp vụ như đơn giá di chuyển hay hệ số lương tăng ca là những giá trị có thể thay đổi theo chính sách của công ty. Để hệ thống có <strong>tính tiến hóa</strong>, nhóm quyết định đưa các giá trị này vào bảng <strong>THAMSO</strong>.
  + Các tham số mới được bổ sung:
    - DonGiaKm: Lưu đơn giá (VNĐ) cho mỗi km di chuyển.
    - HeSoLuongTangCa: Lưu hệ số nhân cho lương khi KTV làm việc ngoài giờ.
* <strong>Sơ đồ Logic (cập nhật lần 3):</strong>
  + Sau khi bổ sung các bảng và thuộc tính từ yêu cầu cuối cùng, Sơ đồ Logic của hệ thống đã được hoàn thiện. Sơ đồ này thể hiện đầy đủ các thực thể, thuộc tính và mối quan hệ phức tạp, sẵn sàng cho giai đoạn cài đặt chi tiết.</p>

<p>Sơ đồ Logic Hoàn chỉnh
----------------------</p>

<p>Sau quá trình áp dụng thuật toán thiết kế lặp qua từng yêu cầu nghiệp vụ chính ở phần 4.2, Sơ đồ Logic hoàn chỉnh của hệ thống "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng" đã được xây dựng. Đây là kết quả tổng hợp, thể hiện một cách trực quan và đầy đủ toàn bộ cấu trúc cơ sở dữ liệu sẽ được sử dụng để cài đặt cho phần mềm.</p>

<p>Sơ đồ này là bản thiết kế cuối cùng cho cơ sở dữ liệu, đảm bảo đáp ứng được các yêu cầu về <strong>tính đúng đắn</strong>, <strong>tính tiến hóa</strong> và <strong>tính hiệu quả</strong>. Sơ đồ bao gồm các thành phần chính sau:</p>

<p>* <strong>Các Bảng Dữ liệu (Tables):</strong> Bao gồm tất cả các bảng đã được xác định và hoàn thiện qua các bước lặp, như KHACHHANG, NHANVIEN, CONGVIEC, BAOCAOCONGVIEC, VATTU, KHO\_KTV, CONGTACPHI, và bảng THAMSO.
* <strong>Các Thuộc tính và Khóa:</strong> Mỗi bảng đều chứa các thuộc tính cần thiết, trong đó <strong>khóa chính (PK)</strong> được gạch chân để đảm bảo tính duy nhất của mỗi bản ghi, và <strong>khóa ngoại (FK)</strong> được sử dụng để thiết lập các liên kết logic giữa các bảng.
* <strong>Các Mối quan hệ:</strong> Sơ đồ mô tả rõ ràng các mối quan hệ giữa các bảng:
  + <strong>Quan hệ một - nhiều (1-n):</strong> Thể hiện rõ các liên kết nghiệp vụ cốt lõi. Ví dụ:
    - Một KHACHHANG có thể có nhiều CONGVIEC.
    - Một NHANVIEN (KTV) có thể được giao nhiều CONGVIEC.
    - Một BAOCAOCONGVIEC có thể có nhiều HINHANH\_BAOCAO.
  + <strong>Quan hệ nhiều - nhiều (n-n):</strong> Các mối quan hệ phức tạp đã được giải quyết bằng cách sử dụng các bảng trung gian. Ví dụ:
    - Mối quan hệ giữa BAOCAOCONGVIEC và VATTU được giải quyết thông qua bảng VATTU\_SUDUNG.
    - Mối quan hệ giữa NHANVIEN và VATTU (để quản lý tồn kho) được xử lý qua bảng KHO\_KTV.</p>

<p>Dưới đây là Sơ đồ Logic hoàn chỉnh của hệ thống:</p>

<p>Sơ đồ này sẽ là tài liệu tham chiếu chính cho giai đoạn cài đặt cơ sở dữ liệu và phát triển các chức năng backend của hệ thống ở Chương 5.</p>

<p>Chi tiết các Bảng Dữ liệu (Mô tả Table)
---------------------------------------</p>

<p>Phần này sẽ mô tả chi tiết cấu trúc của từng bảng dữ liệu trong Sơ đồ Logic hoàn chỉnh đã được trình bày ở mục 4.3. Mỗi bảng sẽ được định nghĩa rõ ràng về các thuộc tính, kiểu dữ liệu, khóa chính (PK), khóa ngoại (FK) và chức năng của từng thuộc tính.</p>

<h3>Bảng: NHANVIEN</h3>

<p>Bảng này lưu trữ thông tin về tất cả các nhân viên trong công ty, bao gồm Kỹ thuật viên, Leader, CSKH và Admin.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaNV</td><td>VARCHAR(10)</td><td>PK</td><td>Mã số duy nhất cho mỗi nhân viên.</td></tr>
<tr><td>HoTen</td><td>NVARCHAR(255)</td><td></td><td>Họ và tên đầy đủ của nhân viên.</td></tr>
<tr><td>ChucVu</td><td>NVARCHAR(50)</td><td></td><td>Vai trò của nhân viên trong công ty (KTV, Leader, CSKH, Admin).</td></tr>
<tr><td>SDT</td><td>VARCHAR(15)</td><td></td><td>Số điện thoại liên lạc của nhân viên.</td></tr>
<tr><td>Email</td><td>VARCHAR(255)</td><td></td><td>Địa chỉ email của nhân viên.</td></tr>
<tr><td>TenDangNhap</td><td>VARCHAR(50)</td><td></td><td>Tên tài khoản để đăng nhập vào hệ thống.</td></tr>
<tr><td>MatKhau</td><td>VARCHAR(255)</td><td></td><td>Mật khẩu đã được mã hóa.</td></tr>
</table>

<h3>Bảng: KHACHHANG</h3>

<p>Bảng này chứa toàn bộ thông tin về các khách hàng của công ty.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaKH</td><td>VARCHAR(20)</td><td>PK</td><td>Mã khách hàng, có thể dùng Mã số thuế.</td></tr>
<tr><td>TenKH</td><td>NVARCHAR(255)</td><td></td><td>Tên đầy đủ của khách hàng/công ty.</td></tr>
<tr><td>DiaChi</td><td>NVARCHAR(500)</td><td></td><td>Địa chỉ chính của khách hàng.</td></tr>
<tr><td>SDT</td><td>VARCHAR(15)</td><td></td><td>Số điện thoại người liên hệ chính.</td></tr>
<tr><td>Email</td><td>VARCHAR(255)</td><td></td><td>Email để nhận báo cáo và thông tin.</td></tr>
<tr><td>ThongTinXuatHD</td><td>NVARCHAR(500)</td><td></td><td>Thông tin chi tiết để xuất hóa đơn.</td></tr>
</table>

<h3>Bảng: CONGVIEC</h3>

<p>Bảng này quản lý tất cả các công việc được giao cho KTV.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaCongViec</td><td>INT</td><td>PK</td><td>Mã số tự tăng, duy nhất cho mỗi công việc.</td></tr>
<tr><td>MaKH</td><td>VARCHAR(20)</td><td>FK</td><td>Khóa ngoại, liên kết đến bảng KHACHHANG.</td></tr>
<tr><td>MaNV</td><td>VARCHAR(10)</td><td>FK</td><td>Khóa ngoại, liên kết đến KTV được giao việc trong bảng NHANVIEN.</td></tr>
<tr><td>NgayThucHien</td><td>DATETIME</td><td></td><td>Ngày và giờ dự kiến thực hiện công việc.</td></tr>
<tr><td>NoiDungCV</td><td>NVARCHAR(MAX)</td><td></td><td>Mô tả chi tiết nội dung công việc cần làm.</td></tr>
<tr><td>LoaiHinhDichVu</td><td>NVARCHAR(50)</td><td></td><td>Loại hình công việc (Định kỳ, 1 lần, SOS).</td></tr>
<tr><td>TrangThai</td><td>NVARCHAR(50)</td><td></td><td>Trạng thái công việc (Chưa xác nhận, Đã xác nhận, Hoàn thành).</td></tr>
</table>

<h3>Bảng: BAOCAOCONGVIEC</h3>

<p>Bảng này lưu trữ dữ liệu chi tiết mà KTV báo cáo từ hiện trường cho mỗi công việc.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaBaoCao</td><td>INT</td><td>PK</td><td>Mã số tự tăng, duy nhất cho mỗi báo cáo.</td></tr>
<tr><td>MaCongViec</td><td>INT</td><td>FK</td><td>Khóa ngoại, liên kết đến bảng CONGVIEC.</td></tr>
<tr><td>ThoiGianCheckIn</td><td>DATETIME</td><td></td><td>Thời gian KTV bắt đầu công việc tại hiện trường.</td></tr>
<tr><td>ThoiGianCheckOut</td><td>DATETIME</td><td></td><td>Thời gian KTV kết thúc công việc.</td></tr>
<tr><td>ToaDoCheckIn</td><td>VARCHAR(50)</td><td></td><td>Tọa độ GPS tại thời điểm check-in.</td></tr>
<tr><td>ToaDoCheckOut</td><td>VARCHAR(50)</td><td></td><td>Tọa độ GPS tại thời điểm check-out.</td></tr>
<tr><td>GhiChu</td><td>NVARCHAR(MAX)</td><td></td><td>Ghi chú, khuyến cáo của KTV tại hiện trường.</td></tr>
<tr><td>ChuKyKH</td><td>VARBINARY(MAX)</td><td></td><td>Dữ liệu chữ ký điện tử của khách hàng.</td></tr>
</table>

<h3>Bảng: HINHANH\_BAOCAO</h3>

<p>Bảng này quản lý các hình ảnh được đính kèm trong một báo cáo công việc.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaHinhAnh</td><td>INT</td><td>PK</td><td>Mã số tự tăng, duy nhất cho mỗi hình ảnh.</td></tr>
<tr><td>MaBaoCao</td><td>INT</td><td>FK</td><td>Khóa ngoại, liên kết đến báo cáo tương ứng.</td></tr>
<tr><td>DuongDanAnh</td><td>VARCHAR(500)</td><td></td><td>Đường dẫn lưu trữ của file hình ảnh.</td></tr>
</table>

<h3>Bảng: VATTU</h3>

<p>Bảng danh mục các loại vật tư, hóa chất.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaVatTu</td><td>VARCHAR(10)</td><td>PK</td><td>Mã duy nhất cho mỗi loại vật tư, hóa chất.</td></tr>
<tr><td>TenVatTu</td><td>NVARCHAR(255)</td><td></td><td>Tên của vật tư, hóa chất.</td></tr>
<tr><td>DonViTinh</td><td>NVARCHAR(20)</td><td></td><td>Đơn vị tính (Chai, Gói, Lít, Kg...).</td></tr>
</table>

<h3>Bảng: KHO\_KTV</h3>

<p>Bảng này theo dõi số lượng tồn kho của từng loại vật tư mà mỗi KTV đang giữ.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaNV</td><td>VARCHAR(10)</td><td>PK, FK</td><td>Mã của KTV.</td></tr>
<tr><td>MaVatTu</td><td>VARCHAR(10)</td><td>PK, FK</td><td>Mã của vật tư.</td></tr>
<tr><td>SoLuongTon</td><td>DECIMAL(18,2)</td><td></td><td>Số lượng vật tư hiện có của KTV.</td></tr>
</table>

<h3>Bảng: VATTU\_SUDUNG</h3>

<p>Bảng trung gian, ghi lại số lượng vật tư cụ thể đã được sử dụng trong một báo cáo.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaBaoCao</td><td>INT</td><td>PK, FK</td><td>Mã của báo cáo công việc.</td></tr>
<tr><td>MaVatTu</td><td>VARCHAR(10)</td><td>PK, FK</td><td>Mã của vật tư đã sử dụng.</td></tr>
<tr><td>SoLuong</td><td>DECIMAL(18,2)</td><td></td><td>Số lượng thực tế đã sử dụng.</td></tr>
</table>

<h3>Bảng: CONGTACPHI</h3>

<p>Bảng này lưu trữ kết quả tính công tác phí cho nhân viên theo từng kỳ.</p>

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Khóa</th><th>Mô tả</th></tr>
<tr><td>MaPhieu</td><td>INT</td><td>PK</td><td>Mã phiếu công tác phí tự tăng.</td></tr>
<tr><td>MaNV</td><td>VARCHAR(10)</td><td>FK</td><td>Khóa ngoại, liên kết đến nhân viên.</td></tr>
<tr><td>Thang</td><td>INT</td><td></td><td>Tháng tính công tác phí.</td></tr>
<tr><td>Nam</td><td>INT</td><td></td><td>Năm tính công tác phí.</td></tr>
<tr><td>TongQuangDuong</td><td>DECIMAL(18,2)</td><td></td><td>Tổng số km di chuyển trong kỳ.</td></tr>
<tr><td>TongChiPhi</td><td>DECIMAL(18,2)</td><td></td><td>Tổng số tiền công tác phí.</td></tr>
</table>

<h3>Bảng: THAMSO</h3>

<p>Bảng này đặc biệt quan trọng, dùng để lưu trữ các quy định nghiệp vụ có thể thay đổi, giúp hệ thống có</p>

<strong>tính tiến hóa</strong> cao1.

<table>
<tr><th>Tên thuộc tính</th><th>Kiểu dữ liệu</th><th>Mô tả</th></tr>
<tr><td>DonGiaKm</td><td>DECIMAL(18,2)</td><td>Đơn giá (VNĐ) cho mỗi km di chuyển để tính công tác phí2.</td></tr>
<tr><td>ThoiGianNhacLich</td><td>INT</td><td>Thời gian (tính bằng giờ) cần thông báo trước lịch làm việc cho KTV3.</td></tr>
<tr><td>HeSoLuongTangCa</td><td>DECIMAL(4,2)</td><td>Hệ số nhân lương khi KTV làm việc ngoài giờ hành chính4.</td></tr>
</table>

<p>Chuẩn hóa Dữ liệu
-----------------</p>

<strong>Mục đích</strong> của việc chuẩn hóa là một bước không thể thiếu trong quá trình thiết kế cơ sở dữ liệu. Mục tiêu chính của quá trình này là để loại bỏ sự dư thừa dữ liệu và đảm bảo tính nhất quán, toàn vẹn của dữ liệu trong toàn bộ hệ thống. Bằng cách áp dụng các quy tắc chuẩn hóa, nhóm đảm bảo rằng cấu trúc cơ sở dữ liệu được tối ưu, dễ bảo trì và mở rộng sau này.

<h3>Dạng chuẩn áp dụng</h3>

<p>Sau khi xem xét cẩn thận các phụ thuộc hàm giữa các thuộc tính, nhóm chúng em khẳng định rằng thiết kế cơ sở dữ liệu cho hệ thống "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng" đã tuân thủ ít nhất đến <strong>Dạng chuẩn 3 (3NF)</strong>. Điều này được chứng minh qua việc phân tích cấu trúc của các bảng chính trong hệ thống.</p>

<h3>Giải thích và Chứng minh</h3>

<p>Dưới đây là các ví dụ cụ thể từ thiết kế của đồ án để chứng minh việc tuân thủ các dạng chuẩn:</p>

<p>* <strong>Đạt Dạng chuẩn 1 (1NF)</strong>: Tất cả các bảng trong thiết kế đều thỏa mãn 1NF. Mỗi ô trong bảng chỉ chứa một giá trị duy nhất (nguyên tố), không có thuộc tính đa trị hay các nhóm thuộc tính lặp lại. Ví dụ, trong bảng KHACHHANG, mỗi khách hàng chỉ có một DiaChi và một SDT được lưu trong các cột tương ứng, thay vì lưu một danh sách địa chỉ hay số điện thoại trong cùng một ô.
* <strong>Đạt Dạng chuẩn 2 (2NF)</strong>: Thiết kế loại bỏ các phụ thuộc phi toàn phần. Điều này được thể hiện rõ nhất qua việc tách các thực thể ra thành nhiều bảng riêng biệt.
  + <strong>Ví dụ</strong>: Thay vì lưu tất cả thông tin khách hàng (Tên, Địa chỉ, SĐT) trong bảng CONGVIEC, nhóm đã tách ra thành bảng KHACHHANG riêng. Các thuộc tính như TenKH, DiaChi phụ thuộc hoàn toàn vào khóa chính là MaKH. Trong bảng CONGVIEC, nhóm chỉ sử dụng MaKH làm khóa ngoại để tham chiếu. Việc này giúp tránh lặp lại toàn bộ thông tin của một khách hàng cho mỗi công việc khác nhau mà họ yêu cầu, từ đó đạt được 2NF.
* <strong>Đạt Dạng chuẩn 3 (3NF)</strong>: Thiết kế loại bỏ các phụ thuộc bắc cầu, nghĩa là không có thuộc tính phi khóa nào phụ thuộc vào một thuộc tính phi khóa khác.
  + <strong>Ví dụ</strong>: Xét trong chức năng báo cáo vật tư sử dụng. Thay vì lưu TenVatTu và DonViTinh trực tiếp trong bảng VATTU\_SUDUNG, nhóm đã tạo ra bảng danh mục VATTU (MaVatTu, TenVatTu, DonViTinh). Trong bảng VATTU\_SUDUNG, chỉ cần lưu MaVatTu. Như vậy, TenVatTu và DonViTinh phụ thuộc trực tiếp vào khóa chính MaVatTu, chứ không phụ thuộc bắc cầu qua MaBaoCao. Thiết kế này đảm bảo khi tên hoặc đơn vị tính của một vật tư thay đổi, ta chỉ cần cập nhật ở một nơi duy nhất là bảng VATTU.</p>

<p>Nhờ việc tuân thủ các quy tắc chuẩn hóa, cơ sở dữ liệu của đồ án không chỉ chính xác về mặt logic mà còn hiệu quả về mặt lưu trữ và dễ dàng cho việc bảo trì, nâng cấp sau này.</p>

<p>CHƯƠNG 5: THIẾT KẾ GIAO DIỆN
============================</p>

<p>Chương này mô tả chi tiết kiến trúc, nội dung và cách thức hoạt động của các màn hình giao tiếp trong hệ thống "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng". Thiết kế được xây dựng dựa trên các yêu cầu chức năng và phi chức năng đã xác định ở các chương trước, nhằm đảm bảo <strong>tính tiện dụng</strong> và <strong>hiệu quả</strong> cho từng đối tượng người dùng.</p>

<p>Sơ đồ liên kết các màn hình
---------------------------</p>

<p>Sơ đồ này mô tả luồng di chuyển và điều khiển giữa các màn hình trong hệ thống Web App. Do hệ thống phục vụ hai nhóm đối tượng người dùng chính với các nghiệp vụ riêng biệt, chúng ta sẽ trình bày hai sơ đồ liên kết riêng biệt.</p>

<h3>Sơ đồ liên kết cho Phần mềm Quản lý (Web App cho Quản lý, Admin, CSKH)</h3>

<p>Sơ đồ này thể hiện luồng làm việc của các nhân viên văn phòng, tập trung vào các nghiệp vụ quản lý, điều phối và báo cáo.</p>

<p>* Luồng bắt đầu từ màn hình <strong>Đăng nhập</strong>.
* Sau khi đăng nhập thành công, người dùng được chuyển đến <strong>Màn hình chính (Dashboard)</strong>, nơi hiển thị các thông tin tổng quan.
* Từ Màn hình chính, người dùng có thể điều hướng đến các màn hình chức năng chính:
  + <strong>Quản lý Khách hàng</strong> (Xem danh sách, Thêm/Sửa thông tin).
  + <strong>Lập Kế hoạch</strong> (Tạo công việc, giao việc cho KTV).
  + <strong>Quản lý Công việc</strong> (Theo dõi trạng thái công việc, xem báo cáo chi tiết).
  + <strong>Quản lý Kho</strong> (Quản lý nhập/xuất/tồn hóa chất của từng KTV).
  + <strong>Quản lý Nhân sự</strong> (Xem thông tin KTV, thiết lập và xem KPI).
  + <strong>Quản lý Công tác phí</strong> (Thực hiện tính toán chi phí).
  + <strong>Báo cáo & Thống kê</strong> (Xem các báo cáo tổng hợp).</p>

<h3>Sơ đồ liên kết cho Ứng dụng Nhân viên Kỹ thuật (Web App cho KTV)</h3>

<p>Sơ đồ này mô tả luồng tác nghiệp của KTV tại hiện trường, được tối ưu hóa cho giao diện mobile.</p>

<p>* Luồng bắt đầu từ màn hình <strong>Đăng nhập</strong>.
* Sau khi đăng nhập, KTV được chuyển đến <strong>Màn hình Lịch làm việc</strong>, hiển thị danh sách công việc được giao.
* Từ danh sách, KTV chọn một công việc để xem <strong>Chi tiết công việc</strong>.
* Từ màn hình Chi tiết công việc, KTV thực hiện luồng tác nghiệp tuần tự:
  + Nhấn nút "Bắt đầu" -> <strong>Màn hình Check-in</strong> (xác nhận vị trí và thời gian).
  + Sau khi check-in thành công -> <strong>Màn hình Báo cáo Công tác</strong> (điền checklist, ghi chú, chụp ảnh, báo cáo vật tư).
  + Nhấn nút "Hoàn thành" -> <strong>Màn hình Check-out</strong> (lấy chữ ký điện tử của khách hàng, gửi báo cáo).
* Từ Màn hình Lịch làm việc, KTV cũng có thể truy cập các chức năng phụ như <strong>Lịch sử công việc</strong> và <strong>Báo cáo kho cá nhân</strong>.</p>

<p>Danh sách các màn hình
----------------------</p>

<p>Bảng dưới đây liệt kê và mô tả ngắn gọn chức năng của tất cả các màn hình chính trong hệ thống.</p>

<table>
<tr><th><strong>STT</strong></th><th><strong>Tên Màn hình</strong></th><th><strong>Loại màn hình</strong></th><th><strong>Chức năng</strong></th></tr>
<tr><td><strong>A</strong></td><td><strong>Phần mềm Quản lý (Web App)</strong></td><td></td><td></td></tr>
<tr><td>1</td><td>Màn hình Đăng nhập</td><td>Màn hình nhập liệu</td><td>Cho phép các vai trò (Leader, CSKH, Admin) đăng nhập vào hệ thống.</td></tr>
<tr><td>2</td><td>Màn hình Chính (Dashboard)</td><td>Màn hình chính</td><td>Hiển thị tổng quan lịch làm việc, trạng thái KTV, và các báo cáo nhanh.</td></tr>
<tr><td>3</td><td>Màn hình Quản lý Khách hàng</td><td>Màn hình nhập liệu/Tra cứu</td><td>Cho phép CSKH nhập, sửa, xóa và tìm kiếm thông tin khách hàng3.</td></tr>
<tr><td>4</td><td>Màn hình Lập kế hoạch & Phân công</td><td>Màn hình nhập liệu</td><td>Cho phép Leader tạo công việc, chọn khách hàng, phân công KTV và xuất kế hoạch ra Excel.</td></tr>
<tr><td>5</td><td>Màn hình Quản lý Kho Vật tư</td><td>Màn hình nhập liệu/Tra cứu</td><td>Cho phép Admin/Kho cấp phát và theo dõi tồn kho vật tư của từng KTV5.</td></tr>
<tr><td>6</td><td>Màn hình Quản lý Công tác phí</td><td>Báo biểu</td><td>Cho phép Admin tính toán và xem chi tiết công tác phí của KTV6.</td></tr>
<tr><td>7</td><td>Màn hình Báo cáo & Thống kê KPI</td><td>Báo biểu</td><td>Hiển thị các báo cáo tổng hợp và KPI của KTV dưới dạng bảng và biểu đồ7.</td></tr>
<tr><td><strong>B</strong></td><td><strong>Ứng dụng Nhân viên KTV (Web App)</strong></td><td></td><td></td></tr>
<tr><td>8</td><td>Màn hình Đăng nhập KTV</td><td>Màn hình nhập liệu</td><td>Cho phép KTV đăng nhập vào hệ thống trên thiết bị di động.</td></tr>
<tr><td>9</td><td>Màn hình Lịch làm việc</td><td>Màn hình tra cứu</td><td>Hiển thị danh sách các công việc được giao cho KTV8.</td></tr>
<tr><td>10</td><td>Màn hình Chi tiết Công việc</td><td>Màn hình tra cứu</td><td>Hiển thị đầy đủ thông tin về một công việc: khách hàng, địa chỉ, nội dung, yêu cầu...</td></tr>
<tr><td>11</td><td>Màn hình Check-in/Check-out</td><td>Màn hình nhập liệu</td><td>Ghi nhận thời gian và vị trí GPS khi bắt đầu/kết thúc công việc9.</td></tr>
<tr><td>12</td><td>Màn hình Báo cáo Công tác Hiện trường</td><td>Màn hình nhập liệu</td><td>Cho phép KTV ghi chú, chụp ảnh, điền checklist và báo cáo vật tư đã sử dụng101010.</td></tr>
</table>

<p>Mô tả chi tiết từng màn hình
----------------------------</p>

<p>Phần này sẽ mô tả chi tiết thiết kế của một số màn hình tiêu biểu, bao gồm các đối tượng giao diện và các xử lý sự kiện tương ứng.</p>

<h3>Màn hình Lập kế hoạch và Phân công (Phần mềm Quản lý)</h3>

<strong>Mô tả các đối tượng trên màn hình:</strong>

<table>
<tr><th>STT</th><th>Tên đối tượng</th><th>Kiểu</th><th>Ràng buộc</th><th>Chức năng</th></tr>
<tr><td>1</td><td>cboKhachHang</td><td>Combo Box (danh sách thả xuống)</td><td>Dữ liệu được tải từ CSDL Khách hàng. Không được để trống.</td><td>Chọn khách hàng cần thực hiện công việc.</td></tr>
<tr><td>2</td><td>dtpNgayThucHien</td><td>DateTime Picker</td><td>Phải là ngày giờ trong tương lai.</td><td>Chọn ngày và giờ thực hiện công việc.</td></tr>
<tr><td>3</td><td>txtNoiDungCV</td><td>Text Area (vùng văn bản)</td><td>Không được để trống.</td><td>Nhập mô tả chi tiết nội dung công việc.</td></tr>
<tr><td>4</td><td>cboNhanVien</td><td>Multi-select Combo Box</td><td>Dữ liệu tải từ CSDL Nhân viên (vai trò KTV). Phải chọn ít nhất một KTV.</td><td>Chọn một hoặc nhiều KTV để phân công.</td></tr>
<tr><td>5</td><td>rdoLoaiHinh</td><td>Radio Button Group</td><td>Mặc định chọn "Định kỳ".</td><td>Chọn loại hình dịch vụ (Định kỳ, 1 lần, SOS)11.</td></tr>
<tr><td>6</td><td>btnGiaoViec</td><td>Button</td><td>-</td><td>Lưu và giao việc cho KTV đã chọn.</td></tr>
<tr><td>7</td><td>btnXuatExcel</td><td>Button</td><td>-</td><td>Xuất kế hoạch công việc ra file Excel12.</td></tr>
</table>

<strong>Danh sách biến cố và xử lý tương ứng:</strong>

<table>
<tr><th>STT</th><th>Biến cố</th><th>Xử lý</th><th></th></tr>
<tr><td>1</td><td>Người dùng chọn một khách hàng từ cboKhachHang</td><td>Hệ thống tự động điền các thông tin liên quan như địa chỉ, SĐT liên hệ vào các trường chỉ đọc (read-only) để Leader tham khảo.</td><td></td></tr>
<tr><td>2</td><td>Nhấn nút btnGiaoViec</td><td>1. Hệ thống kiểm tra tính hợp lệ của tất cả dữ liệu đầu vào.  2. Nếu hợp lệ, lưu thông tin công việc vào</td><td>CSDL Lịch làm việc với trạng thái "Chưa xác nhận".  3. Gửi thông báo về công việc mới đến Web App của KTV đã được phân công.</td></tr>
<tr><td>3</td><td>Nhấn nút btnXuatExcel</td><td>Hệ thống tổng hợp các công việc đã lập và tạo ra một file Excel theo mẫu định sẵn, cho phép người dùng tải về.</td><td></td></tr>
</table>

<h3>Màn hình Báo cáo Công tác Hiện trường (Ứng dụng KTV)</h3>

<strong>Mô tả các đối tượng trên màn hình:</strong>

<table>
<tr><th>STT</th><th>Tên đối tượng</th><th>Kiểu</th><th>Ràng buộc</th><th>Chức năng</th></tr>
<tr><td>1</td><td>lblThongTinCV</td><td>Label</td><td>-</td><td>Hiển thị thông tin tóm tắt về công việc (Tên KH, Địa chỉ).</td></tr>
<tr><td>2</td><td>txtGhiChu</td><td>Text Area</td><td>Hỗ trợ nhập liệu bằng giọng nói.</td><td>Nhập các ghi chú, khuyến cáo tại hiện trường.</td></tr>
<tr><td>3</td><td>btnChupAnh</td><td>Button</td><td>-</td><td>Mở camera của thiết bị để chụp và đính kèm hình ảnh vào báo cáo.</td></tr>
<tr><td>4</td><td>chkListCongViec</td><td>Check List Box</td><td>-</td><td>Hiển thị danh sách các đầu mục công việc (vd: kiểm tra bẫy keo), cho phép KTV tick vào khi hoàn thành.</td></tr>
<tr><td>5</td><td>gridVatTuSuDung</td><td>Data Grid (Lưới dữ liệu)</td><td>-</td><td>Cho phép KTV chọn vật tư đã dùng và nhập số lượng.</td></tr>
<tr><td>6</td><td>btnHoanThanh</td><td>Button</td><td>-</td><td>Chuyển sang màn hình Check-out để hoàn tất công việc.</td></tr>
</table>

<strong>Danh sách biến cố và xử lý tương ứng:</strong>

<table>
<tr><th>STT</th><th>Biến cố</th><th>Xử lý</th></tr>
<tr><td>1</td><td>Nhấn nút btnChupAnh</td><td>1. Hệ thống yêu cầu quyền truy cập camera.  2. Mở giao diện camera.  3. Sau khi chụp, hình ảnh được tự động nén để giảm dung lượng và hiển thị dưới dạng thumbnail.</td></tr>
<tr><td>2</td><td>Nhấn nút "Thêm vật tư" trong gridVatTuSuDung</td><td>Hiển thị một pop-up cho phép KTV chọn loại vật tư từ danh sách và nhập số lượng đã sử dụng. Dữ liệu sau đó được thêm vào lưới.</td></tr>
<tr><td>3</td><td>Nhấn nút btnHoanThanh</td><td>1. Hệ thống kiểm tra xem các mục báo cáo quan trọng đã được điền chưa.  2. Nếu đã đủ, hệ thống lưu tạm toàn bộ dữ liệu báo cáo và điều hướng người dùng đến màn hình Check-out để lấy chữ ký khách hàng.</td></tr>
</table>

<p>CHƯƠNG 6: CÀI ĐẶT PHẦN MỀM
==========================</p>

<p>Môi trường cài đặt và Công nghệ sử dụng
---------------------------------------</p>

<p>Giai đoạn cài đặt là quá trình chuyển đổi các bản thiết kế chi tiết ở chương trước thành một sản phẩm phần mềm có thể hoạt động được. Việc lựa chọn một môi trường cài đặt và bộ công nghệ phù hợp không chỉ ảnh hưởng đến hiệu suất của sản phẩm cuối cùng mà còn quyết định đến hiệu quả của quá trình phát triển. Dựa trên các yêu cầu đã phân tích, nhóm đã quyết định lựa chọn các công nghệ và môi trường sau đây để đảm bảo tính đồng bộ, hiệu quả và phù hợp với xu hướng phát triển phần mềm hiện đại.</p>

<h3>Môi trường Phần cứng</h3>

<p>* <strong>Máy tính phát triển:</strong> Các thành viên trong nhóm sử dụng máy tính cá nhân (laptop) chạy hệ điều hành Windows và macOS, với cấu hình tối thiểu: CPU Core i5, 8GB RAM, ổ cứng SSD 256GB để đảm bảo quá trình lập trình và biên dịch diễn ra mượt mà.
* <strong>Thiết bị di động (KTV):</strong> Phần mềm dành cho KTV được kiểm thử và sử dụng trên các điện thoại thông minh chạy hệ điều hành Android có kết nối Internet (4G/Wifi) và bật dịch vụ định vị GPS.</p>

<h3>Môi trường Phần mềm</h3>

<p>* <strong>Hệ điều hành:</strong> Windows 10/11 và macOS.
* <strong>Công cụ phát triển (IDE):</strong> Visual Studio Code là công cụ soạn thảo mã nguồn chính cho cả backend và frontend, nhờ vào hệ sinh thái extension phong phú và khả năng hỗ trợ đa ngôn ngữ mạnh mẽ.
* <strong>Hệ quản trị Cơ sở dữ liệu:</strong> Supabase (PostgreSQL) được sử dụng làm nền tảng CSDL trên cloud.
* <strong>Công cụ quản lý phiên bản:</strong> Git và GitHub được sử dụng để quản lý mã nguồn, cho phép các thành viên hợp tác và theo dõi các thay đổi một cách hiệu quả.</p>

<h3>Công nghệ sử dụng</h3>

<p>* <strong>Frontend (Lớp trình diễn):</strong> <strong>React.js</strong> được lựa chọn để xây dựng giao diện người dùng. Lý do lựa chọn:
  + <strong>Kiến trúc dựa trên thành phần (Component-Based):</strong> Giúp mã nguồn có <strong>tính module hóa</strong> cao, dễ dàng tái sử dụng, bảo trì và mở rộng.
  + <strong>Hiệu suất cao:</strong> Sử dụng Virtual DOM để tối ưu hóa việc cập nhật giao diện, mang lại trải nghiệm mượt mà cho người dùng.
  + <strong>Hệ sinh thái lớn:</strong> Tận dụng kho thư viện NPM để đẩy nhanh tiến độ phát triển.
* <strong>Backend (Lớp ứng dụng):</strong> <strong>Node.js</strong> cùng với framework <strong>ExpressJS</strong> được sử dụng để xây dựng API và xử lý logic nghiệp vụ. Lý do lựa chọn:
  + <strong>Đồng bộ ngôn ngữ:</strong> Sử dụng chung ngôn ngữ JavaScript với frontend, giúp các thành viên dễ dàng làm việc và tái sử dụng code.
  + <strong>Xử lý bất đồng bộ:</strong> Kiến trúc non-blocking I/O giúp xử lý hiệu quả nhiều yêu cầu đồng thời, phù hợp với các tác vụ như nhận dữ liệu từ KTV và truy vấn CSDL.
* <strong>Database (Lớp dữ liệu):</strong> Nền tảng <strong>Supabase</strong> được chọn làm giải pháp Backend-as-a-Service, cung cấp CSDL <strong>PostgreSQL</strong>. Lý do lựa chọn:
  + <strong>Làm việc nhóm hiệu quả:</strong> Cung cấp một CSDL tập trung trên cloud, loại bỏ các vấn đề về đồng bộ dữ liệu khi làm việc từ xa.
  + <strong>Tăng tốc độ phát triển:</strong> Tự động tạo API RESTful và cung cấp hệ thống xác thực người dùng tích hợp sẵn, giúp nhóm tập trung vào logic nghiệp vụ cốt lõi.
  + <strong>SQL mạnh mẽ:</strong> Tận dụng được sức mạnh của CSDL quan hệ để đảm bảo tính toàn vẹn và thực hiện các truy vấn phức tạp.</p>

<p>Phương pháp cài đặt
-------------------</p>

<p>* <strong>Phương pháp đã chọn:</strong> Nhóm đã quyết định áp dụng phương pháp <strong>"Cài đặt từ trên xuống và tăng trưởng"</strong> (Top-down and Incremental) cho quá trình phát triển đồ án.
* <strong>Lý do lựa chọn:</strong> Phương pháp này đặc biệt phù hợp với quy mô và tính chất của đồ án, mang lại nhiều ưu điểm thiết thực:
  + <strong>Giảm thiểu rủi ro và dễ điều chỉnh:</strong> Bằng cách xây dựng và kiểm thử từng module chức năng (ví dụ: module Quản lý Khách hàng, module Giao việc), nhóm có thể sớm phát hiện các vấn đề về logic hoặc thiết kế. Điều này cho phép nhóm nhận được phản hồi sớm để điều chỉnh kịp thời, tránh các thay đổi lớn có thể làm đổ vỡ toàn bộ hệ thống.
  + <strong>Sản phẩm hữu hình sớm:</strong> Các giao diện chính và luồng chức năng cốt lõi (ví dụ: giao diện đăng nhập, giao diện lập kế hoạch) được cài đặt và hoạt động từ sớm. Điều này giúp các thành viên và người hướng dẫn có thể sớm hình dung và thẩm định được sản phẩm, tạo động lực và định hướng rõ ràng cho các giai đoạn tiếp theo.
  + <strong>Phát triển song song:</strong> Phương pháp này cho phép các thành viên có thể làm việc song song trên các module khác nhau sau khi cấu trúc tổng thể đã được định hình, giúp tối ưu hóa hiệu quả làm việc nhóm.</p>

<p>Phong cách lập trình (Chuẩn viết mã)
------------------------------------</p>

<p>Để đảm bảo chất lượng mã nguồn, tăng tính dễ đọc, dễ hiểu và thuận tiện cho việc bảo trì, nâng cấp sau này, nhóm đã thống nhất và tuân thủ một bộ quy tắc về phong cách lập trình (coding convention) trong suốt quá trình cài đặt.</p>

<h3>Quy tắc đặt tên (Naming Conventions)</h3>

<p>* <strong>Tên Biến (Variables):</strong> Sử dụng quy tắc camelCase. Tên biến phải có ý nghĩa, mô tả rõ ràng dữ liệu mà nó lưu trữ (ví dụ: userName, taskList, customerAddress).
* <strong>Tên Hằng (Constants):</strong> Sử dụng quy tắc UPPER\_CASE\_SNAKE\_CASE. Các giá trị không đổi trong suốt quá trình chạy chương trình (ví dụ: MAX\_LOGIN\_ATTEMPTS, API\_URL).
* <strong>Tên Hàm/Phương thức (Functions/Methods):</strong> Sử dụng quy tắc camelCase và bắt đầu bằng một động từ để thể hiện hành động (ví dụ: getUserData(), createTask(), validateInput()).
* <strong>Tên Lớp/Thành phần (Classes/Components):</strong> Sử dụng quy tắc PascalCase (ví dụ: CustomerForm, TaskDetails, UserService).</p>

<h3>Quy tắc trình bày code</h3>

<p>* <strong>Canh lề (Indentation):</strong> Thống nhất sử dụng 4 dấu cách cho mỗi cấp canh lề để mã nguồn rõ ràng, dễ theo dõi cấu trúc.
* <strong>Chú thích (Comments):</strong>
  + Các khối chức năng phức tạp hoặc logic khó hiểu đều phải có chú thích giải thích.
  + Mỗi hàm/phương thức quan trọng cần có một khối chú thích ở trên để mô tả chức năng, các tham số đầu vào (parameters) và giá trị trả về (return value).
  + Chú thích phải được cập nhật khi mã nguồn thay đổi để đảm bảo tính chính xác.</p>

<p>Tổ chức mã nguồn
----------------</p>

<p>* Dự án được cấu trúc thành các thư mục riêng biệt theo chức năng để dễ quản lý, ví dụ:
  + <strong>Frontend (React):</strong> Thư mục components (chứa các thành phần giao diện tái sử dụng), pages (chứa các trang chính), services (chứa logic gọi API), hooks (chứa các custom hook).
  + <strong>Backend (Node.js):</strong> Thư mục controllers (xử lý request), routes (định tuyến API), models (định nghĩa cấu trúc dữ liệu), services (chứa logic nghiệp vụ).</p>

<p>Cài đặt và thử nghiệm
---------------------</p>

<strong>Các chức năng đã cài đặt và thử nghiệm:</strong> Dựa trên các bản thiết kế, nhóm đã tiến hành cài đặt và hoàn thành các chức năng cốt lõi của hệ thống. Dưới đây là một số chức năng tiêu biểu đã được thử nghiệm và hoạt động ổn định:

<p>* <strong>Chức năng Quản lý Khách hàng:</strong> Giao diện cho phép CSKH thêm, sửa, xóa và tìm kiếm thông tin khách hàng.
* <strong>Chức năng Lập kế hoạch và Giao việc:</strong> Giao diện cho phép Leader tạo công việc mới và phân công cho KTV.
* <strong>Chức năng Lịch làm việc cho KTV:</strong> Giao diện cho phép KTV xem danh sách các công việc được giao.
* <strong>Chức năng Check-in/Check-out:</strong> Ghi nhận thời gian và vị trí của KTV (đang trong quá trình hoàn thiện tích hợp GPS).
* <strong>Chức năng Báo cáo công việc:</strong> Giao diện cho phép KTV nhập ghi chú và tải lên hình ảnh.</p>

<p>Minh họa giao diện
------------------</p>

<p>(Phần này bạn sẽ chèn các hình ảnh chụp màn hình thực tế của ứng dụng để minh họa)</p>

<em> + </em>Hình 6.1: Giao diện Màn hình Lập kế hoạch và Phân công*
  + <em>Hình 6.2: Giao diện Màn hình Lịch làm việc của KTV trên di động</em>
  + <em>Hình 6.3: Giao diện Màn hình Báo cáo công tác của KTV</em>

<p>CHƯƠNG 7: KIỂM THỬ VÀ BẢO TRÌ
=============================</p>

<p>Mục tiêu và Kế hoạch kiểm thử
-----------------------------</p>

<p>Giai đoạn kiểm thử là một bước không thể thiếu trong quy trình phát triển phần mềm, nhằm đảm bảo sản phẩm cuối cùng đáp ứng được các yêu cầu đặt ra và hoạt động một cách ổn định. Trong chương này, nhóm chúng em sẽ trình bày chi tiết về kế hoạch, chiến lược và kết quả của quá trình kiểm thử hệ thống "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng", đồng thời đề ra phương hướng bảo trì và phát triển cho phần mềm trong tương lai.</p>

<h3>Mục tiêu kiểm thử</h3>

<p>Quá trình kiểm thử của đồ án được thực hiện nhằm hướng tới các mục tiêu cốt lõi sau:</p>

<p>* <strong>Xác minh tính đúng đắn của chức năng:</strong> Đảm bảo tất cả các chức năng của hệ thống, từ việc lập kế hoạch của Leader cho đến thao tác check-in/out, báo cáo của KTV, đều hoạt động chính xác theo các yêu cầu nghiệp vụ đã được khảo sát và đặc tả trong <strong>Chương 2</strong> và <strong>Chương 3</strong>.
* <strong>Đánh giá các yêu cầu phi chức năng:</strong> Kiểm tra và đảm bảo phần mềm đáp ứng được các tiêu chí về chất lượng như giao diện phải thân thiện, dễ sử dụng, thao tác đơn giản 2; hiệu năng hệ thống phải nhanh, nhẹ, đặc biệt là khi KTV tải hình ảnh từ hiện trường 3; và tính bảo mật phải được đảm bảo thông qua cơ chế phân quyền chặt chẽ4.
* <strong>Phát hiện và ghi nhận lỗi:</strong> Tìm kiếm, ghi nhận một cách có hệ thống các lỗi, sai sót hoặc các hành vi không mong muốn của phần mềm để đội ngũ phát triển có thể tiến hành sửa chữa, từ đó nâng cao chất lượng và độ ổn định của sản phẩm trước khi bàn giao.
* <strong>Đảm bảo sự hài lòng của người dùng:</strong> Thông qua kiểm thử, nhóm mong muốn đảm bảo rằng phần mềm khi đưa vào sử dụng sẽ mang lại trải nghiệm tốt, tiện lợi và thực sự giải quyết được những khó khăn trong quy trình làm việc thủ công trước đây của công ty.</p>

<h3>Chiến lược kiểm thử</h3>

<p>Để đảm bảo chất lượng được kiểm soát ở mọi giai đoạn, nhóm chúng em đã áp dụng chiến lược kiểm thử dựa trên</p>

<strong>Mô hình chữ V</strong> đã được học trong môn học. Chiến lược này liên kết chặt chẽ các giai đoạn phát triển với các hoạt động kiểm thử tương ứng, cụ thể:

<p>* <strong>Kiểm thử đơn vị (Unit Testing):</strong> Được thực hiện sau khi lập trình viên hoàn thành một hàm (function) hoặc một thành phần (component) nhỏ.
* <strong>Kiểm thử tích hợp (Integration Testing):</strong> Được thực hiện khi các module chức năng đã được phát triển và cần kiểm tra sự giao tiếp, phối hợp giữa chúng.
* <strong>Kiểm thử hệ thống (System Testing):</strong> Được thực hiện khi toàn bộ hệ thống đã được tích hợp hoàn chỉnh, nhằm kiểm tra tổng thể phần mềm so với các yêu cầu ban đầu.</p>

<p>Các cấp độ kiểm thử
-------------------</p>

<h3>Kiểm thử đơn vị (Unit Testing)</h3>

<p>* <strong>Mô tả:</strong> Đây là cấp độ kiểm thử thấp nhất, tập trung vào việc kiểm tra các đơn vị mã nguồn nhỏ nhất và độc lập (hàm, phương thức, component) để xác nhận chúng hoạt động đúng. Nhóm sử dụng framework <strong>Jest</strong> để viết và chạy các ca kiểm thử tự động cho cả backend (Node.js) và frontend (React.js).
* <strong>Ví dụ Test Case cho Kiểm thử đơn vị:</strong></p>

<table>
<tr><th>Mã TC</th><th>Module/Function</th><th>Mục tiêu kiểm thử</th><th>Dữ liệu đầu vào</th><th>Kết quả mong đợi</th></tr>
<tr><td><strong>UT-01</strong></td><td>calculateTotalCost(km, overtimeHours)</td><td>Kiểm tra hàm tính tổng công tác phí có trả về kết quả đúng dựa trên quãng đường và giờ tăng ca.</td><td>km: 50, overtimeHours: 2</td><td>Trả về tổng chi phí được tính toán chính xác theo công thức đã định.</td></tr>
<tr><td><strong>UT-02</strong></td><td>updateInventory(currentStock, usedAmount)</td><td>Kiểm tra hàm cập nhật tồn kho có trừ đúng số lượng vật tư đã sử dụng.</td><td>currentStock: 10.0, usedAmount: 1.5</td><td>Trả về giá trị tồn kho mới là 8.5.</td></tr>
<tr><td><strong>UT-03</strong></td><td>Component LoginForm.js</td><td>Kiểm tra component có hiển thị thông báo lỗi khi người dùng bỏ trống trường mật khẩu.</td><td>username: "ktv01", password: ""</td><td>Component hiển thị một dòng chữ đỏ "Mật khẩu không được để trống".</td></tr>
</table>

<h3>Kiểm thử tích hợp (Integration Testing)</h3>

<p>* <strong>Mô tả:</strong> Ở cấp độ này, nhóm tập trung kiểm tra sự tương tác giữa các module đã được phát triển. Mục tiêu chính là phát hiện các lỗi giao tiếp giữa frontend, backend và cơ sở dữ liệu.
* <strong>Ví dụ Test Case cho Kiểm thử tích hợp:</strong></p>

<table>
<tr><th>Mã TC</th><th>Chức năng</th><th>Các bước thực hiện</th><th>Kết quả mong đợi</th></tr>
<tr><td><strong>IT-01</strong></td><td><strong>Giao việc cho KTV</strong></td><td>1. <strong>Leader</strong> đăng nhập vào hệ thống Web App.<br>2. Chọn màn hình "Lập Kế hoạch", điền thông tin công việc và chọn một KTV.<br>3. Nhấn nút "Giao việc".<br>4. Truy vấn trực tiếp vào CSDL CONGVIEC.<br>5. <strong>KTV</strong> được giao việc đăng nhập vào Web App trên điện thoại.</td><td>1. Leader nhận thông báo "Giao việc thành công".<br>2. CSDL CONGVIEC có một bản ghi mới khớp với thông tin đã nhập.<br>3. Màn hình "Lịch làm việc" của KTV hiển thị công việc mới.</td></tr>
<tr><td><strong>IT-02</strong></td><td><strong>KTV tải ảnh báo cáo</strong></td><td>1. <strong>KTV</strong> đăng nhập, chọn một công việc và vào màn hình báo cáo.<br>2. Nhấn nút "Chụp ảnh" và tải lên một hình ảnh.<br>3. Kiểm tra CSDL và dịch vụ lưu trữ (Storage) của Supabase.</td><td>1. Giao diện hiển thị ảnh vừa tải lên.<br>2. File ảnh được lưu thành công trong Supabase Storage.<br>3. Bảng HINHANH\_BAOCAO có một bản ghi mới chứa đường dẫn đến file ảnh đó.</td></tr>
</table>

<h3>Kiểm thử hệ thống (System Testing)</h3>

<p>* <strong>Mô tả:</strong> Đây là giai đoạn kiểm thử toàn bộ phần mềm như một hệ thống hoàn chỉnh, mô phỏng các kịch bản sử dụng thực tế từ đầu đến cuối để đảm bảo tất cả các yêu cầu chức năng và phi chức năng đều được đáp ứng.
* <strong>Kiểm thử Kịch bản Chức năng (End-to-End Scenario):</strong></p>

<table>
<tr><th>Mã TC</th><th>Kịch bản</th><th>Các bước thực hiện</th><th>Kết quả mong đợi</th></tr>
<tr><td><strong>ST-01</strong></td><td><strong>Hoàn thành một quy trình dịch vụ đầy đủ</strong></td><td>1. <strong>CSKH</strong> tạo khách hàng "Công ty ABC".<br>2. <strong>Leader</strong> giao việc "Kiểm tra bẫy định kỳ" tại "Công ty ABC" cho "KTV A".<br>3. <strong>KTV A</strong> nhận lịch và xác nhận.<br>4. <strong>KTV A</strong> đến địa điểm, <strong>check-in</strong> lúc 9:00 AM.<br>5. <strong>KTV A</strong> báo cáo sử dụng 2 bẫy keo và tải lên 1 ảnh hiện trạng.<br>6. <strong>KTV A</strong> <strong>check-out</strong> lúc 10:30 AM.<br>7. <strong>Admin</strong> vào mục quản lý kho và thấy tồn kho bẫy keo của KTV A đã giảm 2 đơn vị.<br>8. <strong>Admin</strong> vào mục công tác phí và thấy hệ thống đã ghi nhận 1.5 giờ làm việc và quãng đường di chuyển cho công việc này.</td><td>Toàn bộ dữ liệu qua các bước phải được ghi nhận chính xác, trạng thái công việc được cập nhật đúng, và các tính toán tự động (tồn kho, công tác phí) phải cho ra kết quả đúng.</td></tr>
</table>

<p>* <strong>Kiểm thử Yêu cầu Phi chức năng:</strong></p>

<table>
<tr><th>Yêu cầu</th><th>Phương pháp kiểm thử</th><th>Kết quả mong đợi</th></tr>
<tr><td><strong>Tính tiện dụng</strong></td><td>Cho các thành viên trong nhóm đóng vai KTV và Leader để thực hiện các tác vụ chính mà không cần hướng dẫn. Thử nghiệm chức năng nhập liệu bằng giọng nói6.</td><td>Người dùng có thể hoàn thành tác vụ một cách dễ dàng. Chức năng nhập liệu giọng nói nhận dạng chính xác trên 90% trong môi trường có tiếng ồn vừa phải.</td></tr>
<tr><td><strong>Tính hiệu quả</strong></td><td>Đo thời gian tải trang chính, thời gian từ lúc KTV nhấn nút tải ảnh đến khi hệ thống báo thành công trên kết nối 4G7.</td><td>Thời gian tải trang dưới 3 giây. Thời gian tải một ảnh (đã nén) dưới 5 giây.</td></tr>
<tr><td><strong>Tính bảo mật</strong></td><td>Cố gắng đăng nhập vào tài khoản Leader bằng tài khoản KTV và truy cập vào các chức năng quản lý.</td><td>Hệ thống từ chối truy cập và thông báo không có quyền hạn.</td></tr>
<tr><td><strong>Độ tin cậy</strong></td><td>So sánh tọa độ GPS do hệ thống ghi nhận tại thời điểm check-in với vị trí thực tế trên bản đồ.</td><td>Sai số tọa độ GPS không vượt quá 20 mét.</td></tr>
</table>

<p>Bảo trì phần mềm
----------------</p>

<p>Bảo trì là giai đoạn cuối cùng và kéo dài nhất trong vòng đời của phần mềm, bao gồm tất cả các hoạt động nhằm duy trì, sửa lỗi và cải tiến phần mềm sau khi đã được triển khai.</p>

<h3>Các loại hình bảo trì</h3>

<p>* <strong>Bảo trì sửa lỗi (Corrective Maintenance):</strong> Là hoạt động sửa các lỗi được người dùng phát hiện trong quá trình sử dụng thực tế.
* <strong>Bảo trì thích ứng (Adaptive Maintenance):</strong> Là việc điều chỉnh phần mềm để nó có thể tiếp tục hoạt động tốt trong một môi trường đã thay đổi, ví dụ như nâng cấp hệ điều hành hoặc trình duyệt.
* <strong>Bảo trì hoàn thiện (Perfective Maintenance):</strong> Là việc cải tiến và bổ sung các chức năng mới theo yêu cầu từ người dùng để phần mềm trở nên hữu ích và hiệu quả hơn.
* <strong>Bảo trì phòng ngừa (Preventive Maintenance):</strong> Là các hoạt động như tái cấu trúc mã nguồn (refactor code), tối ưu hóa cơ sở dữ liệu để làm cho phần mềm dễ bảo trì hơn trong tương lai.</p>

<h3>Kế hoạch bảo trì và phát triển trong tương lai</h3>

<p>Sau khi hoàn thành đồ án, nhóm chúng em đã đề ra một số định hướng phát triển và bảo trì cho phần mềm như sau:</p>

<p>* <strong>Hoàn thiện chức năng ký điện tử:</strong> Phát triển module cho phép khách hàng ký xác nhận trực tiếp trên màn hình thiết bị của KTV, dữ liệu chữ ký sẽ được lưu lại dưới dạng hình ảnh đính kèm với báo cáo8.
* <strong>Tự động hóa gửi báo cáo:</strong> Xây dựng một dịch vụ tự động, sau khi báo cáo công việc của KTV được Leader duyệt, hệ thống sẽ tự động tạo một file báo cáo chuyên nghiệp (PDF) và gửi đến email của khách hàng9.
* <strong>Nâng cao khả năng báo cáo:</strong> Bổ sung thêm nhiều loại biểu đồ trực quan trong mục "Báo cáo & Thống kê", cho phép Leader lọc và phân tích dữ liệu theo nhiều chiều khác nhau (ví dụ: so sánh hiệu suất giữa các KTV, thống kê các vấn đề thường gặp tại một khách hàng)10.
* <strong>Phát triển ứng dụng di động (Mobile App):</strong> Nâng cấp phiên bản Web App hiện tại cho KTV thành một ứng dụng di động native (iOS/Android). Điều này sẽ giúp cải thiện đáng kể hiệu năng, độ ổn định và cho phép sử dụng các tính năng nâng cao như thông báo đẩy (push notification) để nhắc lịch làm việc một cách tức thì và hiệu quả hơn.</p>

<p>CHƯƠNG 8: ĐÁNH GIÁ VÀ KẾT LUẬN
==============================</p>

<p>Chương cuối cùng của báo cáo sẽ tổng kết lại toàn bộ quá trình thực hiện đồ án "Quản lý nhân viên xử lý dịch vụ kiểm soát côn trùng". Nhóm chúng em sẽ đưa ra những đánh giá khách quan về quá trình làm việc, những kết quả đã đạt được, các ưu điểm cũng như những hạn chế còn tồn tại của sản phẩm. Cuối cùng, chương này sẽ đề ra những định hướng phát triển cho hệ thống trong tương lai, nhằm biến đồ án thành một sản phẩm hoàn thiện và có khả năng ứng dụng thực tế cao hơn.</p>

<p>Nhận xét và Đánh giá
--------------------</p>

<h3>Quá trình làm việc và Hợp tác nhóm</h3>

<p>Quá trình thực hiện đồ án là một cơ hội quý báu để nhóm chúng em áp dụng các kiến thức lý thuyết của môn Nhập môn Công nghệ phần mềm vào một bài toán thực tế. Nhóm đã tuân thủ nghiêm ngặt quy trình phát triển phần mềm đã đề ra, từ khâu khảo sát, phân tích yêu cầu, thiết kế, cài đặt cho đến kiểm thử.</p>

<p>Việc sử dụng các công cụ hiện đại đã đóng vai trò then chốt trong việc duy trì hiệu quả làm việc nhóm, đặc biệt trong bối cảnh làm việc từ xa:</p>

<p>* <strong>Quản lý công việc:</strong> Trello được sử dụng để phân chia nhiệm vụ, theo dõi tiến độ và đảm bảo các thành viên luôn nắm rõ công việc cần làm.
* <strong>Lưu trữ và chia sẻ tài liệu:</strong> Google Drive là kho lưu trữ tập trung cho tất cả các tài liệu của dự án, từ các file khảo sát, báo cáo cho đến các bản thiết kế.
* <strong>Quản lý mã nguồn:</strong> GitHub là công cụ không thể thiếu, giúp nhóm quản lý các phiên bản code, phối hợp làm việc trên cùng một mã nguồn một cách hiệu quả và chuyên nghiệp. 1</p>

<h3>Kết quả đạt được</h3>

<p>Qua thời gian thực hiện đồ án, nhóm chúng em đã đạt được những kết quả sau:</p>

<p>* <strong>Xây dựng thành công hệ thống phần mềm:</strong> Một hệ thống Web App hoàn chỉnh đã được xây dựng, đáp ứng các yêu-cầu-chức-năng cốt lõi đã đề ra trong tài liệu. 2Phần mềm giải quyết được các bài toán nghiệp vụ chính như quản lý khách hàng 3, lập kế hoạch và giao việc 4, cho phép KTV báo cáo công việc tại hiện trường. 5
* <strong>Áp dụng kiến thức chuyên ngành:</strong> Nhóm đã vận dụng thành công các kiến thức đã học để phân tích yêu cầu, thiết kế hệ thống theo kiến trúc 3 lớp 6, thiết kế cơ sở dữ liệu quan hệ tuân thủ dạng chuẩn 3 (3NF)7, và thực hiện quy trình kiểm thử bài bản.
* <strong>Nâng cao kỹ năng công nghệ:</strong> Các thành viên đã có cơ hội học hỏi và làm việc với các công nghệ phổ biến và có nhu cầu cao trong ngành công nghiệp hiện nay như React.js, Node.js và nền tảng Supabase.
* <strong>Phát triển kỹ năng mềm:</strong> Kỹ năng làm việc nhóm, giao tiếp, phân chia và quản lý công việc của các thành viên đã được cải thiện rõ rệt qua quá trình hợp tác thực hiện đồ án.</p>

<h3>Ưu điểm của hệ thống</h3>

<p>* <strong>Giải quyết bài toán thực tế:</strong> Phần mềm đã số hóa thành công nhiều quy trình nghiệp vụ vốn được thực hiện thủ công, giúp giảm thiểu sai sót, tiết kiệm thời gian và tăng tính minh bạch. 9
* <strong>Kiến trúc hiện đại và linh hoạt:</strong> Việc áp dụng kiến trúc 3 lớp giúp hệ thống dễ dàng bảo trì và mở rộng. 10Lớp Trình diễn (Frontend) và Lớp Ứng dụng (Backend) phát triển độc lập, cho phép nâng cấp từng phần mà không ảnh hưởng lớn đến toàn bộ hệ thống. 11
* <strong>Tính tiện dụng cao:</strong> Giao diện được thiết kế đơn giản, thân thiện, đặc biệt là giao diện Web Responsive cho KTV được tối ưu hóa cho việc sử dụng trên thiết bị di động tại hiện trường.
* <strong>Tự động hóa và tăng độ tin cậy:</strong> Các chức năng như tự động tính toán quãng đường di chuyển, tự động cập nhật tồn kho và ghi nhận thời gian, vị trí check-in/out chính xác giúp tăng cường độ tin cậy của dữ liệu và giảm tải công việc cho nhân viên.</p>

<h3>Hạn chế còn tồn tại</h3>

<p>Bên cạnh những kết quả đã đạt được, đồ án vẫn còn một số hạn chế cần được nhìn nhận khách quan:</p>

<p>* <strong>Về quy trình phát triển:</strong> Do đây là lần đầu tiếp cận một đồ án hoàn chỉnh, nhóm còn gặp khó khăn trong việc ước lượng thời gian cho từng tác vụ, dẫn đến một số giai đoạn bị chậm tiến độ so với kế hoạch ban đầu.
* <strong>Về sản phẩm phần mềm:</strong>
  + <strong>Phạm vi chức năng:</strong> Do giới hạn về thời gian, một số chức năng nâng cao như "Ký xác nhận điện tử của khách hàng" hay "Tự động gửi email báo cáo" vẫn chưa được cài đặt.
  + <strong>Tích hợp sâu:</strong> Chức năng định vị GPS mới chỉ dừng ở mức ghi nhận tọa độ tại thời điểm check-in/out, chưa phát triển được tính năng theo dõi vị trí KTV theo thời gian thực như mục tiêu đề ra.
  + <strong>Kiểm thử toàn diện:</strong> Quá trình kiểm thử chủ yếu do các thành viên trong nhóm thực hiện, chưa có sự tham gia và phản hồi từ người dùng cuối thực tế, do đó có thể còn tồn tại các lỗi tiềm ẩn về logic hoặc trải nghiệm người dùng.</p>

<p>Hướng phát triển
----------------</p>

<p>Để khắc phục những hạn chế hiện có và nâng cao giá trị của sản phẩm, nhóm chúng em đề ra các hướng phát triển trong tương lai như sau:</p>

<p>* <strong>Hoàn thiện và nâng cấp các chức năng cốt lõi:</strong>
  + Tích hợp đầy đủ chức năng  
     <strong>ký xác nhận điện tử</strong> của khách hàng trực tiếp trên thiết bị của KTV.
  + Phát triển dịch vụ <strong>tự động gửi email báo cáo</strong> cho khách hàng sau khi công việc được duyệt.
* <strong>Nâng cao trải nghiệm người dùng cho KTV:</strong>
  + Phát triển một  
     <strong>ứng dụng di động (Mobile App) native</strong> cho KTV để thay thế phiên bản Web App hiện tại. Ứng dụng native sẽ giúp cải thiện đáng kể về hiệu năng, độ ổn định và cho phép sử dụng các tính năng nâng cao như thông báo đẩy (push notification) để nhắc lịch làm việc một cách tức thì và hiệu quả.
* <strong>Tăng cường khả năng quản lý và phân tích:</strong>
  + Xây dựng một <strong>Dashboard</strong> trực quan cho Leader và Admin, hiển thị các biểu đồ và số liệu tổng quan về tình hình hoạt động theo thời gian thực.
  + Mở rộng module báo cáo, cho phép tùy chỉnh và tạo ra các báo cáo động theo nhiều tiêu chí khác nhau để phục vụ việc phân tích kinh doanh chuyên sâu.</p>

<p>TÀI LIỆU THAM KHẢO
------------------</p>

<p>1. Đỗ Minh Tiến, “Slide bài giảng môn Nhập môn Công nghệ Phần mềm (SE104)”, Khoa Khoa học và Kỹ thuật Thông tin, Trường Đại học Công nghệ Thông tin - ĐHQG TPHCM, 2025.
2. Ian Sommerville, “Software Engineering, 10th Edition”, Pearson Education Limited, 2016.
3. Thạc Bình Cường, “Nhập môn công nghệ phần mềm”, HEVOBCO - Nhà xuất bản Giáo dục, 2008.
4. React Team, “React Documentation”, [Trực tuyến], Địa chỉ:<https://react.dev/>, [Truy cập lần cuối: 10/08/2025].
5. Express.js Team, "Express - Node.js web application framework", [Trực tuyến], Địa chỉ:<https://expressjs.com/>, [Truy cập lần cuối: 10/08/2025].
6. Supabase Team, "Supabase Documentation", [Trực tuyến], Địa chỉ:<https://supabase.com/docs>, [Truy cập lần cuối: 09/08/2025].
7. F8 fullstack, “Học lập trình để đi làm”, [Trực tuyến], Địa chỉ:  
   <https://fullstack.edu.vn/>, [Truy cập lần cuối: 05/08/2025].
8. W3Schools, “W3Schools Online Web Tutorials”, [Trực tuyến], Địa chỉ:  
   <https://www.w3schools.com/>, [Truy cập lần cuối: 01/08/2025].</p>
</body>
</html>